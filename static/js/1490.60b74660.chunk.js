"use strict";(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[1490],{51116:function(e,n,t){var r=t(84691),i=t(17969),o=t(18358),c=t(96726),a=t(18654),l=t(96891),s=t(58173),d=t(70289),u=[10,20,10,30,10,50,20,100,0,10],x=function(e){var n=e.datas,t=void 0===n?u:n,i=e.color,x=void 0===i?"#4AFA9A":i,f=e.height,p=void 0===f?60:f,g=e.width,h=void 0===g?120:g,m=e.backgroundColor,Z=void 0===m?"black":m,j=(0,o.Z)().domain([Math.min.apply(Math,(0,r.Z)(t)),Math.max.apply(Math,(0,r.Z)(t))]).range([p-3,3]),v=t.map((function(e,n){return[h/t.length*n,j(e)]})),b=(0,c.Z)().x((function(e){return e[0]})).y((function(e){return e[1]})).curve(a.ZP),y=b(v),k=(0,l.Z)().x((function(e){return e[0]})).y0((function(e){return e[1]})).y1((function(e){return p})).curve(a.ZP),C=k(v),S=j((0,s.sum)(t)/t.length);return(0,d.jsxs)("svg",{height:p,width:h,children:[(0,d.jsx)("path",{d:C,fill:"url(#".concat("C".concat(x),")")}),(0,d.jsx)("path",{d:y,stroke:x,fill:"transparent"}),(0,d.jsx)("defs",{children:(0,d.jsxs)("linearGradient",{id:"C".concat(x),x1:"0%",y1:"20%",x2:"0%",y2:"100%",children:[(0,d.jsx)("stop",{offset:"0",stopColor:x,stopOpacity:.3}),(0,d.jsx)("stop",{offset:"1",stopColor:Z,stopOpacity:0})]})}),(0,d.jsx)("line",{x1:0,y1:S,x2:h,y2:S,strokeWidth:.5,stroke:"white",strokeDasharray:"3 3"})]})};n.Z=(0,i.memo)(x)},1490:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(84691),i=t(52398),o=t(17969),c=t(66296),a=t(58173),l=t(2898),s=t(68846),d=t(1079),u=t(26908),x=t(29496),f=t(81881),p=t(74482),g=t(59425),h=t(16693),m=t(75782),Z=(t(45667),t(31054)),j=t(25624),v=t(1532),b=(t(41783),t(46374),t(56884),t(35018)),y=t(51116),k=t(83514),C=t(74828),S=t(80809),F=t(91891),w=t(99144),I=t(27992),D=t(19813),P=t(74593),R=t(80014),A=t(94549),M=t(33320),L=t(53944),z=t(46397),H=t(70289),W=(0,o.memo)((function(e){var n=e.item,t=e.onClick,d=e.index,u=e.editing,x=void 0!==u&&u,f=e.onRemove,g=e.displayFavor,h=((0,l.Z)().t,(0,a.get)(n,"symbol")),v=(0,s.d2j)({symbol:h}),R=(0,b.F)({disableSyncService:!0}).getStockColorValue,M=R((0,a.get)(n,"priceChange")),L=(0,D.useFavorite)(),z=L.favoritesId,W=L.setFavoritesId,E=(0,o.useState)(M),_=(0,i.Z)(E,2),B=_[0],O=_[1],T=(0,a.first)(v),q=(0,o.useRef)(),K=(0,o.useRef)(),J=(0,o.useRef)(),N=(0,o.useRef)(),V=(0,o.useRef)(),G=(0,o.useRef)(),$=(0,s.W0d)(),Q=$.data,U=$.hasValidSignal&&(0,a.has)((0,a.get)(Q,"signalsKey"),n.symbol);(0,o.useEffect)((function(){return A.useMarketPriceStore.subscribe((function(e){if(Boolean((0,a.get)(e.prices,"".concat(h)))){var t=(0,Z.currencyFormatorWithDecimal)((0,a.get)(e.prices,"".concat(h,".low")),"",n.decimal,!0),r=(0,Z.currencyFormatorWithDecimal)((0,a.get)(e.prices,"".concat(h,".high")),"",n.decimal,!0),i=(0,Z.currencyFormatorWithDecimal)((0,a.get)(e.prices,"".concat(h,".bid")),"",n.decimal,!0),o=(0,a.get)(e.prices,"".concat(h,".ask"))-T,c=(0,Z.currencyFormatorWithDecimal)(o,"",n.decimal,!0),l=(0,Z.percentageFormator)(o/T);q.current.innerHTML=t,K.current.innerHTML=r,J.current.innerHTML=i,N.current.innerHTML=c,V.current.innerHTML=l;var s=R(o);N.current.style.color=s,V.current.style.color=s,G.current.style.backgroundColor=s,s!==B&&O(s)}}))}),[n.decimal,T]);var X=[{component:function(e){return(0,H.jsx)(c.Z,{children:(0,H.jsx)(P.Z,{item:n,displaySignalDot:U})})},flex:1},{component:function(e){return(0,H.jsx)(p.Z,{children:(0,H.jsx)(j.Z,{textAlign:"center",sx:{fontSize:"14px"},children:(0,Z.currencyFormatorWithDecimal)((0,a.first)(v),"",n.decimal,!0)})})},flex:1},{component:function(e){return(0,H.jsx)(c.Z,{alignItems:"center",justifyContent:"center",ref:G,sx:{backgroundColor:M,height:"24px",px:1,borderRadius:"4px"},children:(0,H.jsx)(F.Z,{symbol:(0,a.get)(n,"symbol"),tokenBuy:(0,a.get)(n,"tokenBuy"),decimal:(0,a.get)(n,"decimal"),initPrice:(0,a.get)(n,"price")})})},flex:1},{component:function(e){return(0,H.jsx)(c.Z,{direction:"row",justifyContent:"center",children:(0,H.jsx)(y.Z,{datas:v,color:B,height:40,width:120,backgroundColor:"#1E1E34"})})},flex:1},{component:function(e){return(0,H.jsx)(p.Z,{children:(0,H.jsx)(j.Z,{ref:J,textAlign:"center",sx:{fontSize:"14px"},children:"-/-"})})},flex:1},{component:function(e){return(0,H.jsx)(p.Z,{children:(0,H.jsx)(j.Z,{ref:q,textAlign:"center",sx:{fontSize:"14px"},children:"-/-"})})},flex:1},{component:function(e){return(0,H.jsx)(p.Z,{children:(0,H.jsx)(j.Z,{ref:K,textAlign:"center",sx:{fontSize:"14px"},children:"-/-"})})},flex:1},{component:function(e){return(0,H.jsx)(p.Z,{children:(0,H.jsx)(j.Z,{ref:N,textAlign:"center",sx:{color:M,fontSize:"14px"},children:"-/-"})})},flex:1},{component:function(e){return(0,H.jsx)(p.Z,{children:(0,H.jsx)(j.Z,{ref:V,textAlign:"center",sx:{color:M,fontSize:"14px"},children:"-/-"})})},flex:1}];return(0,H.jsx)(k._l,{draggableId:"".concat(n.id),index:d,isDragDisabled:!1===x,children:function(e,i){return(0,H.jsx)(p.Z,(0,m.Z)((0,m.Z)({},e.draggableProps),{},{ref:e.innerRef,children:(0,H.jsxs)(c.Z,{onClick:x?null:function(){return t(n)},direction:"row",alignItems:"center",spacing:.5,sx:{px:2,py:.5,backgroundColor:"rgb(30,30,52)",boxShadow:i.isDragging?"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(255,197,0,0.5) 0px 0px 0px 1px;":null},children:[(0,H.jsx)(p.Z,(0,m.Z)((0,m.Z)({sx:{mr:1}},e.dragHandleProps),{},{children:(0,H.jsx)(C.Z,{sx:{opacity:x?1:0}})})),(0,H.jsx)(c.Z,{direction:"row",alignItems:"center",spacing:.5,flex:1,sx:x?{}:{cursor:"pointer"},children:X.map((function(e,t){return(0,H.jsx)(p.Z,{sx:{flex:e.flex||1},children:e.component(n)},t)}))}),x?(0,H.jsx)(S.Z,{onClick:function(){return f(n)},sx:{ml:1,color:"rgb(255,197,0)",cursor:"pointer"}}):g?z.includes(n.id)?(0,H.jsx)(I.Z,{sx:{color:"rgb(255,197,0)"},onClick:function(e){e.stopPropagation(),W(z.filter((function(e){return e!==n.id})))}}):(0,H.jsx)(w.Z,{onClick:function(e){e.stopPropagation(),W([].concat((0,r.Z)(z),[n.id]))}}):(0,H.jsx)(S.Z,{sx:{opacity:0,ml:1}})]})}))}})})),E=function(e){var n=e.data,t=void 0===n?[]:n,r=e.setData,i=e.enableEdit,o=void 0!==i&&i,a=e.isLoading,s=void 0!==a&&a,d=(e.totalPage,e.page,e.onChangePage,e.hidePagination,e.displayFavor);(0,z.ek)();var u=(0,l.Z)().t,x=((0,R.H)((function(e){return e.openProductDetail})),(0,M.Z)()),f=[{label:u("symbol"),flex:1},{label:u("closePrice"),flex:1},{label:u("ask"),flex:1},{label:u("trends"),flex:1},{label:u("bid"),flex:1},{label:u("low"),flex:1},{label:u("high"),flex:1},{label:u("24Hchanges"),flex:1},{label:u("24H%change"),flex:1}],p=function(e){x(L.cR.menu.productDetail,{id:e.id})},g=function(e){r(t.filter((function(n){return n.id!==e.id})))},h=function(e){};return(0,H.jsxs)(c.Z,{sx:{flex:1,borderRadius:2,backgroundColor:"rgb(30,30,52)",overflow:"hidden"},children:[(0,H.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{backgroundColor:"rgb(40,40,61)",px:2,py:1},children:[(0,H.jsx)(C.Z,{sx:{opacity:0,mr:1}}),f.map((function(e,n){return(0,H.jsx)(j.Z,{sx:{flex:e.flex||1,fontWeight:"bold",fontSize:"14px"},textAlign:"center",children:e.label},n)})),(0,H.jsx)(C.Z,{sx:{opacity:0,ml:1}})]}),s?(0,H.jsx)(c.Z,{px:2,py:2,alignItems:"center",justifyContent:"center",children:(0,H.jsx)(v.Z,{size:30})}):(0,H.jsx)(H.Fragment,{children:((null===t||void 0===t?void 0:t.length)||0)>0?(0,H.jsx)(k.Z5,{onDragEnd:function(e){var n=e.destination,i=e.source;e.draggableId;if(n&&(n.droppableId!==i.droppableId||n.index!==i.index)){var o=t[i.index],c=JSON.parse(JSON.stringify(t));c.splice(i.index,1),c.splice(n.index,0,o),r(c)}},children:(0,H.jsx)(k.bK,{droppableId:"main",children:function(e){return(0,H.jsxs)(c.Z,(0,m.Z)((0,m.Z)({sx:{mt:1},ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,n){return(0,H.jsx)(W,{item:e,onClick:p,index:n,editing:o,onRemove:g,onFavour:h,displayFavor:d},"".concat(e.id))})),e.placeholder]}))}})}):(0,H.jsx)(c.Z,{py:2,children:(0,H.jsx)(j.Z,{textAlign:"center",children:u("noData")})})})]})},_=t(26056),B=function(){var e=(0,o.useState)(""),n=(0,i.Z)(e,2),t=n[0],m=n[1],Z=(0,o.useState)("favourite"),j=(0,i.Z)(Z,2),v=j[0],b=j[1],y=(0,o.useState)(!1),k=(0,i.Z)(y,2),C=k[0],S=k[1],F=(0,o.useState)([]),w=(0,i.Z)(F,2),I=w[0],P=w[1],R=(0,s.Mhv)().data,A=(0,D.useFavorite)(),M=A.favoritesId,L=A.initFavourite,z=A.setFavoritesId,W=(0,l.Z)().t;(0,o.useEffect)((function(){L()}),[]);var B=[{name:W("favourite"),value:"favourite",category:null}].concat((0,r.Z)(R.map((function(e){return{name:W((0,a.toLower)(null===e||void 0===e?void 0:e.name)),value:null===e||void 0===e?void 0:e.name,category:e.id}})))),O=(0,a.find)(B,(function(e){return e.value==v})),T="favourite"===v,q=(0,s.vk$)({category:null===O||void 0===O?void 0:O.category,request:!T}),K=q.data,J=q.isLoading,N=(q.mutate,(0,s.qBF)({request:T,favoritesId:M})),V=N.data,G=N.isLoading,$=(T?V:K).filter((function(e){return e.displaySymbol.includes((0,a.upperCase)(t))})),Q=T?G:J;return(0,H.jsxs)(c.Z,{sx:{maxWidth:1300,mx:"auto"},children:[(0,H.jsxs)(c.Z,{alignItems:"center",direction:"row",spacing:6,children:[(0,H.jsx)(u.Z,{sx:{width:{md:300,sm:200,xs:100}},value:t,label:W("search"),onChange:function(e){return m(e.target.value)},InputProps:{startAdornment:(0,H.jsx)(x.Z,{position:"start",children:(0,H.jsx)(f.Z,{})})},size:"small"}),(0,H.jsx)(p.Z,{children:(0,H.jsx)(d.pn,{btns:B,onChange:function(e,n){b(e),S(!1)},btnSx:{height:39},selectedBackgroundColor:"rgb(40,40,61)"})}),C?(0,H.jsxs)(c.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,H.jsx)(d.OK,{onClick:function(){S(!1),P([])},children:W("cancel")}),(0,H.jsx)(g.Z,{variant:"contained",onClick:function(){S(!1),z(I.map((function(e){return e.id})))},children:W("save")})]}):T&&(0,H.jsxs)(g.Z,{variant:"contained",onClick:function(){S(!0),P(V)},children:[(0,H.jsx)(h.Z,{sx:{mr:1}}),W("edit")]})]}),(0,H.jsx)(c.Z,{sx:{width:"100%",mt:2},children:(0,H.jsx)(E,{data:C?I:$,setData:P,enableEdit:C,isLoading:Q,displayFavor:!T})}),(0,H.jsx)(_.ZP,{})]})}}}]);