"use strict";(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[2104,786,2769,7243],{64965:function(e,n,t){t(31530);var a=t(47006),r=t(27203),s=t(98845);n.Z=function(e){var n=e.loading;return(0,s.jsx)(a.Z,{sx:{zIndex:"9999999"},open:n,children:(0,s.jsx)(r.Z,{})})}},10083:function(e,n,t){t.d(n,{Z:function(){return Z}});var a=t(2211),r=t(76956),s=(t(31530),t(83023)),i=t(42812),l=t(13193),o=t(98438),u=t(99317),c=t(26521),d=t(6892),x=t(97288),f=t(88658),m=t(98267),h=t(98845),p=(0,m.ZP)("div")((function(){return{borderRadius:"8px"}})),b=((0,m.ZP)("div")((function(){return{height:"100%",width:"100%"}})),(0,m.ZP)("div")((function(){return{display:"flex",flexDirection:"column",height:"100%",overflow:"scroll"}})),["showCard","cardTitle","columns","rows","toolBar","density","actionComponent","headerClassName","cellClassName","hidePagination","totalPage","page","onChangePage","autoHeight","sx"]),g=[{systemValue:"en",language:s._},{systemValue:"cn",language:i.U},{systemValue:"cnTw",language:i.U}];function Z(e){var n=(0,f.Z)().currentLang,t=e.showCard,s=void 0!==t&&t,i=e.cardTitle,m=e.columns,Z=void 0===m?[]:m,y=e.rows,j=void 0===y?[]:y,v=e.toolBar,C=e.density,w=void 0===C?"compact":C,S=e.actionComponent,N=e.headerClassName,k=e.cellClassName,I=e.hidePagination,A=void 0===I||I,P=e.totalPage,q=void 0===P?1:P,X=e.page,_=void 0===X?1:X,D=e.onChangePage,T=void 0===D?function(){}:D,B=e.autoHeight,G=void 0!==B&&B,M=e.sx,O=(0,r.Z)(e,b),R=g.find((function(e){return e.systemValue===n.value})),F=(0,a.Z)({rows:j,columns:N||k?Z.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{headerClassName:N,cellClassName:k})})):Z,density:w,components:v||S?{Toolbar:function(){return(0,h.jsxs)(u.Z,{direction:"row",alignItems:"center",sx:{backgroundColor:"#F4F6F8"},children:[v?(0,h.jsx)(l.n,{}):(0,h.jsx)("span",{}),S&&(0,h.jsx)(c.Z,{sx:{p:16,flexGrow:1},children:S()})]})}}:null},O);return R.language&&(F.localeText=R.language.components.MuiDataGrid.defaultProps.localeText),s?(0,h.jsxs)(c.Z,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,h.jsxs)(p,{sx:{flexGrow:1,borderRadius:0,flex:1},children:[i&&(0,h.jsx)(d.Z,{title:i,sx:{mb:3}}),(0,h.jsx)(o._,(0,a.Z)((0,a.Z)({disableColumnFilter:!0,disableColumnSelector:!0,disableColumnMenu:!0,sortingMode:"server",ColumnSortedAscendingIcon:null,sx:(0,a.Z)({"& .MuiDataGrid-sortIcon":{display:"none"}},M)},F),{},{autoHeight:G}))]}),!A&&(0,h.jsx)(c.Z,{sx:{display:"flex",justifyContent:"center",py:2},children:(0,h.jsx)(x.Z,{count:q,shape:"rounded",page:_,onChange:function(e,n){T(n),window.scrollTo({top:0,behavior:"smooth"})}})})]}):(0,h.jsxs)(c.Z,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,h.jsx)(p,{sx:{flexGrow:1,borderRadius:0,flex:1},children:(0,h.jsx)(o._,(0,a.Z)((0,a.Z)({disableColumnFilter:!0,disableColumnSelector:!0,disableColumnMenu:!0,sortingMode:"server",ColumnSortedAscendingIcon:null,sx:(0,a.Z)({"& .MuiDataGrid-sortIcon":{display:"none"}},M)},F),{},{autoHeight:G}))}),!A&&(0,h.jsx)(c.Z,{sx:{display:"flex",justifyContent:"center",py:2,backgroundColor:"rgb(32,32,51)"},children:(0,h.jsx)(x.Z,{count:q,shape:"rounded",page:_,onChange:function(e,n){T(n),window.scrollTo({top:0,behavior:"smooth"})}})})]})}},67243:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var a=t(2211),r=t(92680),s=t(24190),i=t(12130),l=t(31530),o=t(26521),u=t(29367),c=t(15592),d=(t(11001),t(32112)),x=(t(10083),t(46899)),f=t(64965),m=t(88658),h=t(45927),p=(t(96390),t(80215),t(64505)),b=(t(58947),t(64234)),g=t(98845);function Z(e){e.setStep;var n=(0,b.useSearchParams)(),t=(0,i.Z)(n,1)[0].get("id"),Z=(0,m.Z)().t,y=(0,l.useState)({isSelfAccount:!1}),j=(0,i.Z)(y,2),v=j[0],C=j[1],w=(0,l.useState)({amount:""}),S=(0,i.Z)(w,2),N=(S[0],S[1],(0,c.s0)()),k=(0,l.useState)({}),I=(0,i.Z)(k,2),A=I[0],P=I[1],q=(0,l.useState)({}),X=(0,i.Z)(q,2),_=(X[0],X[1],(0,l.useState)(null)),D=(0,i.Z)(_,2),T=(D[0],D[1],(0,l.useState)(!1)),B=(0,i.Z)(T,2),G=B[0],M=B[1],O=(0,l.useState)(null),R=(0,i.Z)(O,2),F=R[0],z=R[1],U=(0,h.nX)().data,V=(0,h.f$)().data,E=(0,h.c0)(),H=E.data,L=E.isLoading,W=E.create,$=E.update,J=(E.mutate,(0,h._i)().data,(0,h.a9)(null===v||void 0===v?void 0:v.currency).data),K=u.object().shape({accountNumberOrIban:u.string().required(),region:u.string().required(),currency:u.string().required(),city:u.string().required(),address1:u.string().required(),displayName:u.string().required(),name:u.string().required(),accountName:u.string().required()}),Q=(Z("date/time"),Z("type"),Z("amount"),Z("status"),function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),e.prev=1,!t){e.next=7;break}return e.next=5,$(t,n);case 5:e.next=9;break;case 7:return e.next=9,W(n);case 9:C({}),N("/crm/fiat"),M(!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:M(!1);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}()),Y=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.validate(v).then((function(e){P({}),Q(v)})).catch((function(e){P({}),P((function(n){return n[e.path]=Z("IsRequired",{field:Z(e.path)}),(0,a.Z)({},n)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e=null===H||void 0===H?void 0:H.find((function(e){return Number(e.id)===Number(t)}));z(e),C((0,a.Z)((0,a.Z)({},e),{},{isSelfAccount:!1})||{})}),[L]),(0,l.useEffect)((function(){C((function(e){return null!==F&&e.currency!==(null===F||void 0===F?void 0:F.currency)&&(e.name=""),(0,a.Z)({},e)}))}),[null===v||void 0===v?void 0:v.currency]),(0,l.useEffect)((function(){console.log(v)}),[v]);u.object().shape({forexAccountBalance:u.string().required(),amount:u.string().required()});return(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(d.dz,{values:v,setValues:C,errors:A,children:(0,g.jsxs)(o.Z,{sx:{width:600,mx:"auto",my:4},children:[(0,g.jsx)(d.Nz,{field:"currency",options:V.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{label:(0,g.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,g.jsx)(x.Z,{type:"country",code:e.entity})," ",(0,g.jsx)(o.Z,{sx:{ml:1},children:e.label})]})})})),placeholder:Z("currency")+"*",sx:{my:2,width:"100%"},size:"middle",labelColor:"background.default"}),["AUD","GBP","EUR","SGD","USD"].includes(null===v||void 0===v?void 0:v.currency)||void 0===(null===v||void 0===v?void 0:v.currency)?(0,g.jsx)(d.XI,{field:"name",label:Z("bankName")+"*",sx:{my:2}}):(0,g.jsx)(d.N2,{options:J.map((function(e){return{value:e[":bank"].name,label:e[":bank"].name}})),field:"name",label:Z("bankName"),sx:{my:2}}),(0,g.jsx)(d.XI,{field:"displayName",label:Z("displayName")+"*",sx:{my:2}}),(0,g.jsx)(d.XI,{field:"accountName",label:Z("accountName")+"*",sx:{my:2}}),(0,g.jsx)(d.XI,{field:"address1",label:Z("bankAdderss1")+"*",sx:{my:2}}),(0,g.jsx)(d.XI,{field:"address2",label:Z("bankAdderss2"),sx:{my:2}}),(0,g.jsx)(d.XI,{field:"city",label:Z("bankCity")+"*",sx:{my:2}}),(0,g.jsx)(d.XI,{field:"state",label:Z("bankProvince"),sx:{my:2}}),(0,g.jsx)(d.XI,{field:"postcode",label:Z("bankZipCode"),sx:{my:2}}),(0,g.jsx)(d.N2,{field:"region",options:U,label:Z("bankCountry")+"*",sx:{my:2,width:"100%"},getOptionLabel:function(e){return""===e?"":e.label?Z("".concat(e.label)):Z("countrys.".concat(e))},size:"middle"}),(0,g.jsx)(d.XI,{field:"accountNumberOrIban",label:Z("accountNumberOrIban")+"*",sx:{my:2}}),(0,g.jsx)(d.XI,{field:"swiftCodeOrBic",label:Z("BIC/SWIFT"),sx:{my:2}}),(0,g.jsx)(d.XI,{field:"branchOrABARoutingCode",label:Z("bankBranch"),sx:{my:2}}),(0,g.jsx)(d.RM,{field:"isSelfAccount",label:Z("isSelfAccount"),sx:{my:2}})]})}),(0,g.jsx)(f.Z,{loading:G}),(0,g.jsx)(o.Z,{sx:{textAlign:"center"},children:(0,g.jsx)(p.C5,{onClick:Y,children:Z("submit")})})]})}},70786:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var a=t(26521),r=t(10083),s=t(45927),i=t(88658),l=(t(64505),t(98845));function o(e){var n=e.setStep,t=(0,i.Z)().t,o=(0,s.qO)().data,u=[{headerName:t("date/time"),field:"date",flex:1},{headerName:t("type"),field:"type",flex:1},{headerName:t("amount"),field:"amount",flex:1},{headerName:t("status"),field:"status",flex:1}];return(0,l.jsxs)(a.Z,{sx:{height:600,width:700,mx:"auto"},children:[(0,l.jsx)(a.Z,{sx:{height:"90%",mt:2},children:(0,l.jsx)(r.Z,{columns:u,rows:o,showCard:!0})}),(0,l.jsx)(a.Z,{onClick:function(){n(0)},sx:{textAlign:"center",mt:2}})]})}},62769:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});t(31530),t(29367),t(11001),t(32112),t(10083),t(46899),t(88658),t(45927),t(96390),t(80215),t(64505),t(58947);function a(e){e.setStep}},52104:function(e,n,t){t.r(n);var a=t(12130),r=t(31530),s=(t(32112),t(58947),t(26521)),i=t(67243),l=t(61874),o=t(70786),u=t(62769),c=t(98845),d=function(e){return[(0,c.jsx)(l.default,{setStep:e}),(0,c.jsx)(o.default,{setStep:e}),(0,c.jsx)(u.default,{setStep:e}),(0,c.jsx)(i.default,{setStep:e})]};n.default=(0,r.memo)((function(){var e=(0,r.useState)(0),n=(0,a.Z)(e,2),t=n[0],i=n[1];return(0,c.jsx)(s.Z,{sx:{width:700,mx:"auto"},children:d(i)[t]})}))}}]);