"use strict";(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[2104,786,2769,7243],{64965:function(e,n,t){t(31530);var a=t(47006),r=t(27203),s=t(98845);n.Z=function(e){var n=e.loading;return(0,s.jsx)(a.Z,{sx:{zIndex:"9999999"},open:n,children:(0,s.jsx)(r.Z,{})})}},10083:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(2211),r=t(76956),s=(t(31530),t(83023)),i=t(42812),l=t(13193),o=t(98438),d=t(99317),u=t(26521),c=t(6892),x=t(97288),f=t(88658),m=t(98267),b=t(98845),y=(0,m.ZP)("div")((function(){return{borderRadius:"8px"}})),h=((0,m.ZP)("div")((function(){return{height:"100%",width:"100%"}})),(0,m.ZP)("div")((function(){return{display:"flex",flexDirection:"column",height:"100%",overflow:"scroll"}})),["showCard","cardTitle","columns","rows","toolBar","density","actionComponent","headerClassName","cellClassName","hidePagination","totalPage","page","onChangePage","autoHeight","sx"]),p=[{systemValue:"en",language:s._},{systemValue:"cn",language:i.U},{systemValue:"cnTw",language:i.U}];function v(e){var n=(0,f.Z)().currentLang,t=e.showCard,s=void 0!==t&&t,i=e.cardTitle,m=e.columns,v=void 0===m?[]:m,g=e.rows,j=void 0===g?[]:g,Z=e.toolBar,C=e.density,N=void 0===C?"compact":C,w=e.actionComponent,k=e.headerClassName,S=e.cellClassName,I=e.hidePagination,A=void 0===I||I,P=e.totalPage,B=void 0===P?1:P,q=e.page,O=void 0===q?1:q,X=e.onChangePage,R=void 0===X?function(){}:X,T=e.autoHeight,Y=void 0!==T&&T,_=e.sx,D=(0,r.Z)(e,h),G=p.find((function(e){return e.systemValue===n.value})),M=(0,a.Z)({rows:j,columns:k||S?v.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{headerClassName:k,cellClassName:S})})):v,density:N,components:Z||w?{Toolbar:function(){return(0,b.jsxs)(d.Z,{direction:"row",alignItems:"center",sx:{backgroundColor:"#F4F6F8"},children:[Z?(0,b.jsx)(l.n,{}):(0,b.jsx)("span",{}),w&&(0,b.jsx)(u.Z,{sx:{p:16,flexGrow:1},children:w()})]})}}:null},D);return G.language&&(M.localeText=G.language.components.MuiDataGrid.defaultProps.localeText),s?(0,b.jsxs)(u.Z,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)(y,{sx:{flexGrow:1,borderRadius:0,flex:1},children:[i&&(0,b.jsx)(c.Z,{title:i,sx:{mb:3}}),(0,b.jsx)(o._,(0,a.Z)((0,a.Z)({disableColumnFilter:!0,disableColumnSelector:!0,disableColumnMenu:!0,sortingMode:"server",ColumnSortedAscendingIcon:null,sx:(0,a.Z)({"& .MuiDataGrid-sortIcon":{display:"none"}},_)},M),{},{autoHeight:Y}))]}),!A&&(0,b.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center",py:2},children:(0,b.jsx)(x.Z,{count:B,shape:"rounded",page:O,onChange:function(e,n){R(n),window.scrollTo({top:0,behavior:"smooth"})}})})]}):(0,b.jsxs)(u.Z,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)(y,{sx:{flexGrow:1,borderRadius:0,flex:1},children:(0,b.jsx)(o._,(0,a.Z)((0,a.Z)({disableColumnFilter:!0,disableColumnSelector:!0,disableColumnMenu:!0,sortingMode:"server",ColumnSortedAscendingIcon:null,sx:(0,a.Z)({"& .MuiDataGrid-sortIcon":{display:"none"}},_)},M),{},{autoHeight:Y}))}),!A&&(0,b.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center",py:2,backgroundColor:"rgb(32,32,51)"},children:(0,b.jsx)(x.Z,{count:B,shape:"rounded",page:O,onChange:function(e,n){R(n),window.scrollTo({top:0,behavior:"smooth"})}})})]})}},67243:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var a=t(2211),r=t(92680),s=t(24190),i=t(12130),l=t(31530),o=t(26521),d=t(24786),u=t(29367),c=t(15592),x=(t(11001),t(18858)),f=(t(10083),t(46899)),m=t(64965),b=t(88658),y=t(30298),h=(t(96390),t(80215),t(64505)),p=(t(58947),t(64234)),v=t(98845);function g(e){e.setStep;var n=(0,p.useSearchParams)(),t=(0,i.Z)(n,1)[0].get("id"),g=(0,b.Z)().t,j=(0,l.useState)({isSelfAccount:!1}),Z=(0,i.Z)(j,2),C=Z[0],N=Z[1],w=(0,l.useState)({amount:""}),k=(0,i.Z)(w,2),S=(k[0],k[1],(0,c.s0)()),I=(0,l.useState)({}),A=(0,i.Z)(I,2),P=A[0],B=A[1],q=(0,l.useState)({}),O=(0,i.Z)(q,2),X=(O[0],O[1],(0,l.useState)(null)),R=(0,i.Z)(X,2),T=(R[0],R[1],(0,l.useState)(!1)),Y=(0,i.Z)(T,2),_=Y[0],D=Y[1],G=(0,l.useState)(null),M=(0,i.Z)(G,2),F=M[0],z=M[1],U=(0,y.nX)().data,V=(0,y.f$)().data,E=(0,y.c0)(),H=E.data,L=E.isLoading,W=E.create,$=E.update,J=(E.mutate,(0,y._i)().data,(0,y.a9)(null===C||void 0===C?void 0:C.currency).data),K=u.object().shape({accountNumberOrIban:u.string().required(),region:u.string().required(),currency:u.string().required(),city:u.string().required(),address1:u.string().required(),displayName:u.string().required(),name:u.string().required(),accountName:u.string().required()}),Q=(g("date/time"),g("type"),g("amount"),g("status"),function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),e.prev=1,!t){e.next=7;break}return e.next=5,$(t,n);case 5:e.next=9;break;case 7:return e.next=9,W(n);case 9:N({}),S("/crm/fiat"),D(!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:D(!1);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}()),ee=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.validate(C).then((function(e){B({}),Q(C)})).catch((function(e){B({}),B((function(n){return n[e.path]=g("IsRequired",{field:g(e.path)}),(0,a.Z)({},n)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e=null===H||void 0===H?void 0:H.find((function(e){return Number(e.id)===Number(t)}));z(e),N((0,a.Z)((0,a.Z)({},e),{},{isSelfAccount:!1})||{})}),[L]),(0,l.useEffect)((function(){N((function(e){return null!==F&&e.currency!==(null===F||void 0===F?void 0:F.currency)&&(e.name="",e.displayName="",e.accountName="",e.address1="",e.address2="",e.city="",e.state="",e.branchOrABARoutingCode="",e.accountName=""),(0,a.Z)({},e)}))}),[null===C||void 0===C?void 0:C.currency]),(0,l.useEffect)((function(){console.log(C)}),[C]);u.object().shape({forexAccountBalance:u.string().required(),amount:u.string().required()});return(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(x.dz,{values:C,setValues:N,errors:P,children:(0,v.jsxs)(o.Z,{sx:{width:600,mx:"auto",my:4},children:[(0,v.jsx)(d.Z,{children:g("createWithdrawalRules")}),(0,v.jsx)(x.Nz,{field:"currency",options:V.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{label:(0,v.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,v.jsx)(f.Z,{type:"country",code:e.entity})," ",(0,v.jsx)(o.Z,{sx:{ml:1},children:e.label})]})})})),placeholder:g("currency")+"*",sx:{my:2,width:"100%"},size:"middle",labelColor:"background.default"}),["AUD","GBP","EUR","SGD","USD"].includes(null===C||void 0===C?void 0:C.currency)||void 0===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.o7,{field:"name",label:g("bankName")+"*",sx:{my:2}}):(0,v.jsx)(x.N2,{options:J.map((function(e){return{value:e[":bank"].name,label:e[":bank"].name}})),field:"name",label:g("bankName"),sx:{my:1}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"displayName",label:g("displayName")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"displayName",label:g("displayName")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"accountName",label:g("accountName")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"accountName",label:g("accountName")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"address1",label:g("bankAdderss1")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"address1",label:g("bankAdderss1")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"address2",label:g("bankAdderss2"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"address2",label:g("bankAdderss2"),sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"city",label:g("bankCity")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"city",label:g("bankCity")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"state",label:g("bankProvince"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"state",label:g("bankProvince"),sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"postcode",label:g("bankZipCode"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"postcode",label:g("bankZipCode"),sx:{my:2}}),(0,v.jsx)(x.N2,{field:"region",options:U,label:g("bankCountry")+"*",sx:{my:1,width:"100%"},getOptionLabel:function(e){return""===e?"":e.label?g("".concat(e.label)):g("countrys.".concat(e))},size:"middle"}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"accountNumberOrIban",label:g("accountNumberOrIban")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"accountNumberOrIban",label:g("accountNumberOrIban")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"swiftCodeOrBic",label:g("BIC/SWIFT"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"swiftCodeOrBic",label:g("BIC/SWIFT"),sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"branchOrABARoutingCode",label:g("bankBranch"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"branchOrABARoutingCode",label:g("bankBranch"),sx:{my:2}}),(0,v.jsx)(x.RM,{field:"isSelfAccount",label:g("isSelfAccount"),sx:{my:2}})]})}),(0,v.jsx)(m.Z,{loading:_}),(0,v.jsx)(o.Z,{sx:{textAlign:"center"},children:(0,v.jsx)(h.C5,{onClick:ee,children:g("submit")})})]})}},70786:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var a=t(26521),r=t(10083),s=t(30298),i=t(88658),l=(t(64505),t(98845));function o(e){var n=e.setStep,t=(0,i.Z)().t,o=(0,s.qO)().data,d=[{headerName:t("date/time"),field:"date",flex:1},{headerName:t("type"),field:"type",flex:1},{headerName:t("amount"),field:"amount",flex:1},{headerName:t("status"),field:"status",flex:1}];return(0,l.jsxs)(a.Z,{sx:{height:600,width:700,mx:"auto"},children:[(0,l.jsx)(a.Z,{sx:{height:"90%",mt:2},children:(0,l.jsx)(r.Z,{columns:d,rows:o,showCard:!0})}),(0,l.jsx)(a.Z,{onClick:function(){n(0)},sx:{textAlign:"center",mt:2}})]})}},62769:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});t(31530),t(29367),t(11001),t(18858),t(10083),t(46899),t(88658),t(30298),t(96390),t(80215),t(64505),t(58947);function a(e){e.setStep}},52104:function(e,n,t){t.r(n);var a=t(12130),r=t(31530),s=(t(18858),t(58947),t(26521)),i=t(67243),l=t(61874),o=t(70786),d=t(62769),u=t(98845),c=function(e){return[(0,u.jsx)(l.default,{setStep:e}),(0,u.jsx)(o.default,{setStep:e}),(0,u.jsx)(d.default,{setStep:e}),(0,u.jsx)(i.default,{setStep:e})]};n.default=(0,r.memo)((function(){var e=(0,r.useState)(0),n=(0,a.Z)(e,2),t=n[0],i=n[1];return(0,u.jsx)(s.Z,{sx:{width:700,mx:"auto"},children:c(i)[t]})}))}}]);