"use strict";(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[3096],{48102:function(e,i,n){var t=n(26521),r=n(24786),o=(n(31530),n(98845));i.Z=function(e){var i=e.bg,n=e.component,l=e.text;return(0,o.jsx)(t.Z,{alignContent:"center",justifyContent:"center",sx:{minHeight:4,minWidth:4,px:1,backgroundColor:i,borderRadius:30},children:n||(0,o.jsx)(r.Z,{fontSize:12,color:"#141428",children:l})})}},69551:function(e,i,n){n.d(i,{i5:function(){return Z},A0:function(){return c}});var t=n(2211),r=n(98267),o=n(26521),l=n(98845),s=(0,r.ZP)(o.Z,{shouldForwardProp:function(e){return"rounded"!==e}})((function(e){var i=e.rounded;return{display:"flex",listStyle:"none",alignItems:"center",justifyContent:"center","& li":{width:18,height:18,opacity:.32,cursor:"pointer"},"& li.slick-active":(0,t.Z)({opacity:1},i&&{"& .dotActive":{width:16,borderRadius:6}})}})),a=(0,r.ZP)("div")((function(){return{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),d=(0,r.ZP)("span")((function(e){var i=e.theme;return{width:8,height:8,borderRadius:"50%",transition:i.transitions.create("width",{easing:i.transitions.easing.sharp,duration:i.transitions.duration.short})}}));function c(e){var i=null===e||void 0===e?void 0:e.color,n=(null===e||void 0===e?void 0:e.rounded)||!1;return{appendDots:function(i){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s,(0,t.Z)((0,t.Z)({rounded:n,component:"ul"},e),{},{children:i}))})},customPaging:function(){return(0,l.jsx)(a,{children:(0,l.jsx)(d,{className:"dotActive",sx:{bgcolor:i||"primary.main"}})})}}}var u=n(76956),x=n(70084),v=n(99317),h=n(84639),p=n(1877),m=["filled","customIcon","onNext","onPrevious","children"],f=(0,r.ZP)(p.w_,{shouldForwardProp:function(e){return"filled"!==e}})((function(e){var i=e.filled,n=e.theme;return(0,t.Z)({width:40,height:40,cursor:"pointer",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:n.palette.text.primary}},i&&{opacity:.48,borderRadius:1.5*Number(n.shape.borderRadius),color:n.palette.common.white,backgroundColor:n.palette.grey[900],"&:hover":{opacity:1,color:n.palette.common.white,backgroundColor:n.palette.grey[900]}})}));function Z(e){var i=e.filled,n=void 0!==i&&i,r=e.customIcon,s=e.onNext,a=e.onPrevious,d=e.children,c=(0,u.Z)(e,m),h="rtl"===(0,x.Z)().direction,p={position:"absolute",mt:-2.5,top:"50%",zIndex:9};return d?(0,l.jsxs)(o.Z,(0,t.Z)((0,t.Z)({},c),{},{children:[(0,l.jsx)(o.Z,{className:"arrow left",sx:(0,t.Z)((0,t.Z)({},p),{},{left:0}),children:(0,l.jsx)(f,{filled:n,onClick:a,children:j(r,h)})}),d,(0,l.jsx)(o.Z,{className:"arrow right",sx:(0,t.Z)((0,t.Z)({},p),{},{right:0}),children:(0,l.jsx)(f,{filled:n,onClick:s,children:g(r,h)})})]})):(0,l.jsxs)(v.Z,(0,t.Z)((0,t.Z)({direction:"row",spacing:1},c),{},{children:[(0,l.jsx)(f,{className:"arrow left",filled:n,onClick:a,children:j(r,h)}),(0,l.jsx)(f,{className:"arrow right",filled:n,onClick:s,children:g(r,h)})]}))}var j=function(e,i){return(0,l.jsx)(h.Z,{icon:e||"eva:arrow-right-fill",sx:(0,t.Z)({width:20,height:20,transform:" scaleX(-1)"},i&&{transform:" scaleX(1)"})})},g=function(e,i){return(0,l.jsx)(h.Z,{icon:e||"eva:arrow-right-fill",sx:(0,t.Z)({width:20,height:20},i&&{transform:" scaleX(-1)"})})},b=n(90105),y=n(52546);(0,r.ZP)(o.Z)((function(e){var i=e.theme;return{zIndex:9,display:"flex",alignItems:"center",position:"absolute",bottom:i.spacing(2),right:i.spacing(2),color:i.palette.common.white,borderRadius:i.shape.borderRadius,backgroundColor:(0,b.Fq)(i.palette.grey[900],.48)}})),(0,r.ZP)(y.Z)((function(e){return{padding:6,opacity:.48,color:e.theme.palette.common.white,"&:hover":{opacity:1}}}))},51971:function(e,i,n){n.d(i,{Z:function(){return d}});var t=n(2211),r=n(70084),o=n(14676),l=n(92078),s=n(69551),a=n(98845);function d(e){var i=e.slides,n=void 0===i?[]:i,d=e.height,c=void 0===d?"auto":d,u=(0,r.Z)(),x=(0,t.Z)({speed:800,infinite:!0,dots:!0,arrows:!1,autoplay:!0,slidesToShow:1,slidesToScroll:1,rtl:Boolean("rtl"===u.direction)},(0,s.A0)({bottom:"2%",left:0,right:0,position:"absolute"}));return(0,a.jsx)(o.Z,(0,t.Z)((0,t.Z)({},x),{},{children:n.map((function(e,i){return(0,a.jsx)(l.Z,{alt:e.alt,src:e.src,sx:{height:c},onClick:e.onClick},e.id)}))}))}},33385:function(e,i,n){n.d(i,{Z:function(){return c}});var t=n(2211),r=n(15592),o=n(51971),l=n(49802),s=n(88658),a=n(39702),d=n(98845);function c(){var e=(0,r.s0)(),i=((0,s.Z)().currentLang,(0,l.Nyi)({location:"Banner",type:"ClientWeb"}).data.map((function(i){return(0,t.Z)((0,t.Z)({},i),{},{src:i.picture,onClick:function(){(0,a.startsWith)(i.goto,"http")?window.open(i.goto,"_blank"):e(i.goto)}})})));return(0,d.jsx)(o.Z,{slides:i,height:200})}},26851:function(e,i,n){n(31530);var t=n(31774),r=n(66800),o=n(66621),l=n(26521),s=n(13862),a=n(24786),d=n(39702),c=n(98845);i.Z=function(e){var i=e.data,n=e.onChange,u=e.select;return(0,c.jsx)(t.Z,{sx:{width:"100%",textAlign:"center",backgroundColor:"background.card"},children:(0,c.jsx)(r.Z,{onClick:function(){return n((0,d.get)(i,"value"))},children:(0,c.jsxs)(o.Z,{children:[(0,c.jsx)(l.Z,{sx:{textAlign:"right"},children:(0,c.jsx)(s.Z,{checked:u===(0,d.get)(i,"value"),value:(0,d.get)(i,"value")})}),(0,c.jsx)(a.Z,{sx:{fontWeight:700,fontSize:18},children:(0,d.get)(i,"title")}),(0,c.jsx)(a.Z,{sx:{my:3,mb:4},children:(0,d.get)(i,"content")}),(0,c.jsx)(a.Z,{sx:{fontWeight:700,my:2,fontSize:18},children:(0,d.get)(i,"price")})]})})})}},54581:function(e,i,n){n.d(i,{E:function(){return F}});var t=n(16487),r=n(92680),o=n(2211),l=n(24190),s=n(12130),a=n(31530),d=n(44756),c=n(24786),u=n(27203),x=n(26521),v=n(86521),h=n(13862),p=n(93994),m=n(39702),f=n(18858),Z=n(64505),j=n(88658),g=n(49802),b=n(13526),y=n(1974),P=n(43248),w=n(65770),D=n(66572),C=n(28418),S=n(98845),F=function(e){var i=e.promotionCodeInfo,n=(0,j.Z)().t,t={rebate:n("rebatePromotion",{value:(0,b.percentageFormator)(i.value)}),extra:n("extraPromotion",{value:i.value}),free:n("freePromotion",{unit:n(i.unit)})};return console.log(i),"error"===i.status?(0,S.jsx)(d.Z,{icon:!1,severity:"error",variant:"outlined",sx:{backgroundColor:"#3C3C50",py:0},children:(0,S.jsx)(c.Z,{color:"error",children:n("invalidPromotionCode")})}):(0,S.jsx)(d.Z,{icon:!1,severity:"success",variant:"outlined",sx:{backgroundColor:"#3C3C50",py:0},children:(0,S.jsx)(c.Z,{children:t[null===i||void 0===i?void 0:i.type]})})};i.Z=function(e){var i,n=e.open,d=e.onClose,E=e.defaultSelected,k=(0,a.useState)({subscriptionType:"std",autoRenewMethod:"USD"}),N=(0,s.Z)(k,2),I=N[0],U=N[1],A=(0,a.useState)(E),R=(0,s.Z)(A,2),O=R[0],L=R[1],W=(0,a.useState)(null),M=(0,s.Z)(W,2),q=M[0],T=M[1],B=(0,a.useState)(null),z=(0,s.Z)(B,2),X=z[0],_=z[1],V=(0,a.useState)(!1),Q=(0,s.Z)(V,2),H=Q[0],G=Q[1],K=(0,C.Ds)().enqueueSnackbar,J=(0,g.EfN)(),Y=J.stdPlan,$=J.proPlan,ee=J.isLoading,ie=(0,g.NO7)().mutate,ne=(0,g.iKv)().data,te=(0,P.Z)().user;(0,a.useEffect)((function(){n&&E!==O&&L(E),n&&(U({subscriptionType:"std",autoRenewMethod:"USD"}),T(null),_(null))}),[E,n]);var re=(0,j.Z)(),oe=re.t,le=re.currentLang,se=(0,g.OOt)(),ae=se.data,de=se.isLoading,ce=(0,g.pQi)(),ue=ce.data,xe=ce.isLoading,ve=(0,m.find)(null===ae||void 0===ae?void 0:ae.balances,(function(e){return"USD"===e.currency})),he=(0,m.find)(null===ue||void 0===ue?void 0:ue.balances,(function(e){return"DECODE"===e.currency})),pe=("std"===I.subscriptionType?Y:$).filter((function(e){return"on"!==e.status||!ne||!0!==e.isFreePlan})).map((function(e){return{value:e.id,title:null!==e&&void 0!==e&&e.isFreePlan?oe("freePlanTitle",{unit:oe(e.unit),count:e.quantity}):oe("normalPlanTitle",{unit:oe(e.unit),count:e.quantity}),content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et.",price:null!==e&&void 0!==e&&e.isFreePlan?oe("freePlanTitle2",{unit:"en"===le.value?e.unit:oe(e.unit),count:e.quantity}):oe("planPrice",{unit:"en"===le.value?e.unit:oe(e.unit),price:(0,b.currencyFormator)(e.price)}),rawData:e}})),me=null===(i=(0,m.find)(pe,(function(e){return e.value==O})))||void 0===i?void 0:i.rawData,fe=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(null),!(0,m.isNil)(null===I||void 0===I?void 0:I.promotionCode)&&0!==(null===I||void 0===I?void 0:I.promotionCode.length)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,g.QG9)({regulation:null===te||void 0===te?void 0:te.regulation,code:null===I||void 0===I?void 0:I.promotionCode,unit:null===me||void 0===me?void 0:me.unit});case 6:i=e.sent,console.log(i),T((0,o.Z)({status:"vaild"},i)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),T({status:"error"});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){me&&fe()}),[null===me||void 0===me?void 0:me.unit]);var Ze=(0,g.yWk)({priceId:null===me||void 0===me?void 0:me.id,promotionCode:q?I.promotionCode:null}),je=Ze.data,ge=Ze.isLoading,be=((null===me||void 0===me?void 0:me.price)||0)*(q&&"rebate"===q.type?1-q.value:1),ye=(0,g.osX)({priceId:null!==I&&void 0!==I&&I.decode?null===me||void 0===me?void 0:me.id:null,amount:null!==I&&void 0!==I&&I.fiat?be-((null===I||void 0===I?void 0:I.fiatPrice)||0):be}),Pe=ye.data,we=ye.isLoading;console.log(me);var De=ge?null:(0,w.default)(null===je||void 0===je?void 0:je.startDate),Ce=null===Pe||void 0===Pe?void 0:Pe.rate,Se=function(){var e=Number(I.fiatPrice);(e>be||e<0)&&U((function(i){return(0,o.Z)((0,o.Z)({},i),{},{fiatPrice:Math.max(0,Math.min(e,be))})}))};(0,a.useEffect)((function(){Se()}),[be,I.fiatPrice]);var Fe=!I.decode||null!==me&&void 0!==me&&me.isFreePlan?0:null===Pe||void 0===Pe?void 0:Pe.payDecode,Ee=ge?null:(0,w.default)(null===je||void 0===je?void 0:je.endDate),ke=!(null===me||void 0===me||!me.isFreePlan)||(I.fiat&&!I.decode?Number(I.fiatPrice)===be&&Number(I.fiatPrice)<=Number((null===ve||void 0===ve?void 0:ve.value)||0):!I.fiat&&I.decode?Fe<=Number((null===he||void 0===he?void 0:he.value)||0):!(I.fiat||I.decode||null===I||void 0===I||!I.hasPromotionCode)||!(!I.fiat||!I.decode)&&(Number(I.fiatPrice)<=Number((null===ve||void 0===ve?void 0:ve.value)||0)&&Fe<=Number((null===he||void 0===he?void 0:he.value)||0)))&&(!I.hasPromotionCode||!(0,m.isNil)(q)&&"vaild"===q.status&&0!==(I.promotionCode||"").length),Ne=[{label:oe("standard"),value:"std"},{label:oe("professional"),value:"pro"}],Ie=[{label:"USD",value:"USD"}].concat((0,t.Z)(null!==me&&void 0!==me&&me.canUseCrypto?[{label:"DECODE",value:"DECODE"}]:[])),Ue=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(null),G(!0),e.next=5,(0,g.gON)({subscriptionPriceId:me.id,promotionCode:I.promotionCode,amountOfFiat:null!==me&&void 0!==me&&me.isFreePlan?0:null!==I&&void 0!==I&&I.fiatPrice?Number(null===I||void 0===I?void 0:I.fiatPrice):null,amountOfDecode:null!==me&&void 0!==me&&me.isFreePlan?0:Fe,autoPayment:Boolean(I.autoRenew),autoPaymentMethod:I.autoRenewMethod,startDate:null===je||void 0===je?void 0:je.startDate,endDate:null===je||void 0===je?void 0:je.endDate});case 5:K(oe("subscribeSuccess"),{variant:"success"}),ie(),d(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),_((0,D.getErrorMessage)(e.t0)),K(oe("subscribeFaild"),{variant:"error"});case 14:return e.prev=14,G(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,S.jsx)(f.ZP,{open:n,onClose:d,maxWidth:"md",defaultBtn:!1,children:de||xe||ee?(0,S.jsx)(y.Z,{alignItems:"center",justifyContent:"center",sx:{height:300},children:(0,S.jsx)(u.Z,{})}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(c.Z,{sx:{textAlign:"center",fontWeight:700,mb:4},children:oe("confirmSubscription")}),(0,S.jsx)(x.Z,{sx:{px:3},children:(0,S.jsx)(v.ZP,{container:!0,spacing:2,children:pe.map((function(e){return(0,S.jsx)(v.ZP,{item:!0,xs:12,md:6,lg:3,onClick:function(){return L((0,m.get)(e,"value"))},children:(0,S.jsxs)(x.Z,{sx:{backgroundColor:"background.card",borderRadius:1,p:2},children:[(0,S.jsx)(x.Z,{sx:{textAlign:"right",mt:-2,mr:-2},children:(0,S.jsx)(h.Z,{checked:O==(0,m.get)(e,"value"),value:(0,m.get)(e,"value")})}),(0,S.jsx)(c.Z,{sx:{mt:-2},children:e.title}),(0,S.jsx)(c.Z,{children:e.price})]})})}))})}),(0,S.jsx)(x.Z,{sx:{px:3},children:(0,S.jsxs)(f.dz,{values:I,setValues:U,children:[(0,S.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",my:2,mb:1},children:[(0,S.jsxs)(c.Z,{sx:{width:150},children:[oe("subscriptionType"),":"]}),(0,S.jsx)(f.Nz,{options:Ne,field:"subscriptionType",size:"small",sx:{width:210,textAlign:"left"},wrapperSx:{justifyContent:"flex-start"},onSelectedSuccess:function(e){var i=e.oldValue,n=e.newValue;i!==n&&L(("std"===n?Y:$)[0].id)}})]}),(0,S.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",my:2},children:[(0,S.jsxs)(c.Z,{sx:{width:150},children:[oe("startDate"),":"]}),(0,S.jsx)(c.Z,{children:De?(0,b.formatDate)(De):""})]}),(0,S.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",my:1},children:[(0,S.jsxs)(c.Z,{sx:{width:150},children:[oe("endDate"),":"]}),(0,S.jsx)(c.Z,{children:Ee?(0,b.formatDate)(Ee):""})]}),(0,S.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",my:1},children:[(0,S.jsxs)(c.Z,{sx:{width:150},children:[oe("autoRenew"),":"]}),(0,S.jsx)(f.RM,{field:"autoRenew"})]}),(0,S.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",my:1},children:[(0,S.jsxs)(c.Z,{sx:{width:150},children:[oe("autoRenewMethod"),":"]}),(0,S.jsx)(f.Nz,{options:Ie,field:"autoRenewMethod",size:"small",sx:{width:210,textAlign:"left"},wrapperSx:{justifyContent:"flex-start"}})]}),(0,S.jsxs)(x.Z,{sx:{my:1},children:[((null===me||void 0===me?void 0:me.canUseFiat)||(null===me||void 0===me?void 0:me.canUseCrypto)||(null===me||void 0===me?void 0:me.canUsePromotion))&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(c.Z,{sx:{mb:2},children:[oe("paymentMethod"),":"]}),(0,S.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(null===me||void 0===me?void 0:me.canUseFiat)&&(0,S.jsx)(f.RM,{field:"fiat",label:(0,S.jsx)(f.XI,{InputProps:{startAdornment:(0,S.jsx)(p.Z,{position:"start",children:"USD"})},disabled:!(null!==I&&void 0!==I&&I.fiat),field:"fiatPrice",size:"small",type:"number",onBlur:Se})}),(null===me||void 0===me?void 0:me.canUseCrypto)&&(0,S.jsx)(f.RM,{field:"decode",label:null!==me&&void 0!==me&&me.DECODEDiscount?oe("useDECODEWithDiscount",{discount:(0,b.percentageFormator)(null===me||void 0===me?void 0:me.DECODEDiscount)}):"DECODE"}),(null===me||void 0===me?void 0:me.canUsePromotion)&&(0,S.jsx)(f.RM,{field:"hasPromotionCode",label:oe("promotionCode")})]}),(null===me||void 0===me?void 0:me.canUsePromotion)&&(0,S.jsxs)(y.Z,{sx:{my:3},children:[(0,S.jsx)(f.XI,{field:"promotionCode",size:"small",disabled:!(null!==I&&void 0!==I&&I.hasPromotionCode),label:oe("promotionCode"),onBlur:fe}),q&&(0,S.jsx)(y.Z,{sx:{mt:1},children:(0,S.jsx)(F,{promotionCodeInfo:q})})]})]}),!(null!==me&&void 0!==me&&me.isFreePlan)&&(I.fiat||I.decode||I.hasPromotionCode)&&(0,S.jsxs)(y.Z,{sx:{mt:2},children:[(0,S.jsx)(y.Z,{direction:"row",alignItems:"center",spacing:2,children:(0,S.jsxs)(c.Z,{children:[oe("totalUSDNeedPayment"),": USD ",(0,b.currencyFormator)(be)]})}),(0,S.jsxs)(c.Z,{sx:{mb:1},children:[oe("estimatedPayment"),":"]}),(0,S.jsxs)(y.Z,{children:[I.fiat&&(0,S.jsxs)(y.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,S.jsx)(c.Z,{variant:"subtitle",fontWeight:"600",minWidth:"80px",children:"USD:"}),(0,S.jsx)(c.Z,{variant:"subtitle",fontWeight:"600",children:(0,b.currencyFormator)(I.fiatPrice||0)})]}),I.decode&&(0,S.jsxs)(y.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,S.jsx)(c.Z,{variant:"subtitle",minWidth:"80px",fontWeight:"600",children:"DECODE:"}),(0,S.jsx)(c.Z,{variant:"subtitle",fontWeight:"600",children:we?"-/-":(0,b.currencyFormator)(Fe)}),(0,S.jsxs)(c.Z,{color:"#A0A0B4",variant:"caption",children:[me.price-(I.fiat&&I.fiatPrice||0)," \xd7 ",(0,b.percentageFormator)(1-me.DECODEDiscount)," \xd7 ",Ce," (",oe("exchangeRate"),")"]})]})]})]}),X&&(0,S.jsx)(x.Z,{sx:{mt:2},children:(0,S.jsx)(c.Z,{color:"error",children:oe(X)})}),(0,S.jsx)(x.Z,{sx:{textAlign:"center",my:2,mt:3},children:(0,S.jsx)(Z.sq,{onClick:Ue,disabled:!ke,sx:{width:200},loading:H,children:oe("subscribe")})})]})]})})]})})}},32397:function(e,i,n){n.d(i,{Z:function(){return M}});var t=n(92680),r=n(24190),o=n(12130),l=n(13526),s=n(18898),a=n(27203),d=n(24786),c=n(52006),u=n(27405),x=n(36326),v=n(13392),h=n(1974),p=n(48102),m=n(49802),f=n(88658),Z=n(39702),j=n(28418),g=n(31530),b=n(16487),y=n(2211),P=n(26521),w=n(86521),D=n(13862),C=n(93994),S=n(18858),F=n(64505),E=n(43248),k=n(65770),N=n(66572),I=n(98845),U=function(e){var i,n=e.open,s=e.onClose,c=(0,g.useState)({subscriptionType:"std",autoRenewMethod:"USD"}),u=(0,o.Z)(c,2),x=u[0],v=u[1],p=(0,g.useState)(null),U=(0,o.Z)(p,2),A=U[0],R=U[1],O=(0,g.useState)(null),L=(0,o.Z)(O,2),W=L[0],M=L[1],q=(0,g.useState)(!1),T=(0,o.Z)(q,2),B=T[0],z=T[1],X=(0,j.Ds)().enqueueSnackbar,_=(0,m.EfN)(),V=_.stdPlan,Q=_.proPlan,H=_.isLoading,G=(0,m.NO7)(),K=G.data,J=G.isLoading,Y=G.mutate,$=(0,Z.find)("std"===(0,Z.toLower)(K.subscribePriceType)?V:Q,(function(e){var i;return e.id===(null===K||void 0===K||null===(i=K.subscribePrice)||void 0===i?void 0:i.id)}))||{};(0,E.Z)().user;(0,g.useEffect)((function(){n&&!J&&K&&$&&(R($.id),v({subscriptionType:(0,Z.toLower)(K.subscribePriceType),autoRenewMethod:K.autoRenewMethod,autoRenew:K.autoRenew})),n&&M(null)}),[K,n,J,$]);var ee=(0,f.Z)(),ie=ee.t,ne=ee.currentLang,te=(0,m.OOt)(),re=te.data,oe=te.isLoading,le=(0,m.pQi)(),se=le.data,ae=le.isLoading,de=(0,Z.find)(null===re||void 0===re?void 0:re.balances,(function(e){return"USD"===e.currency})),ce=(0,Z.find)(null===se||void 0===se?void 0:se.balances,(function(e){return"DECODE"===e.currency})),ue=("std"===x.subscriptionType?V:Q).filter((function(e){return"on"===e.status&&!e.isFreePlan})).map((function(e){return{value:e.id,title:null!==e&&void 0!==e&&e.isFreePlan?ie("freePlanTitle",{unit:ie(e.unit),count:e.quantity}):ie("normalPlanTitle",{unit:ie(e.unit),count:e.quantity}),content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et.",price:e.isFreePlan?ie("freePlanTitle2",{unit:"en"===ne.value?e.unit:ie(e.unit),count:e.quantity}):ie("planPrice",{unit:"en"===ne.value?e.unit:ie(e.unit),price:(0,l.currencyFormator)(e.price)}),rawData:e}})),xe=null===(i=(0,Z.find)(ue,(function(e){return e.value==A})))||void 0===i?void 0:i.rawData,ve="std"===(0,Z.toLower)(null===$||void 0===$?void 0:$.type)&&"pro"===(0,Z.toLower)(null===xe||void 0===xe?void 0:xe.type),he="pro"===(0,Z.toLower)(null===$||void 0===$?void 0:$.type)&&"std"===(0,Z.toLower)(null===xe||void 0===xe?void 0:xe.type),pe=!ve&&!he,me=(0,m.NL3)({nextPriceId:ve?null===xe||void 0===xe?void 0:xe.id:null,promotionCode:null}),fe=me.data;me.isLoading;console.log(fe);var Ze=ve?fe:0,je=(0,m.osX)({priceId:null!==x&&void 0!==x&&x.decode?null===xe||void 0===xe?void 0:xe.id:null,amount:null!==x&&void 0!==x&&x.fiat?Ze-((null===x||void 0===x?void 0:x.fiatPrice)||0):Ze}),ge=je.data,be=je.isLoading,ye=null===ge||void 0===ge?void 0:ge.rate,Pe=!x.decode||null!==xe&&void 0!==xe&&xe.isFreePlan?0:null===ge||void 0===ge?void 0:ge.payDecode,we=null!==K&&void 0!==K&&K.endDate?(0,k.default)(null===K||void 0===K?void 0:K.endDate):null,De=function(){var e=Number(x.fiatPrice);(e>Ze||e<0)&&v((function(i){return(0,y.Z)((0,y.Z)({},i),{},{fiatPrice:Math.max(0,Math.min(e,Ze))})}))};(0,g.useEffect)((function(){De()}),[Ze,x.fiatPrice]);var Ce=!(!pe&&!he)||(x.fiat&&!x.decode?Number(x.fiatPrice)===Ze&&Number(x.fiatPrice)<=Number((null===de||void 0===de?void 0:de.value)||0):!x.fiat&&x.decode?Pe<=Number((null===ce||void 0===ce?void 0:ce.value)||0):!(!x.fiat||!x.decode)&&(Number(x.fiatPrice)<=Number((null===de||void 0===de?void 0:de.value)||0)&&Pe<=Number((null===ce||void 0===ce?void 0:ce.value)||0))),Se=[{label:ie("standard"),value:"std"},{label:ie("professional"),value:"pro"}],Fe=[{label:"USD",value:"USD"}].concat((0,b.Z)(null!==xe&&void 0!==xe&&xe.canUseCrypto?[{label:"DECODE",value:"DECODE"}]:[])),Ee=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(null),z(!0),e.next=5,(0,m.U_F)({nextPriceId:$.id===xe.id?null:xe.id,amountOfFiat:null!==x&&void 0!==x&&x.fiatPrice?Number(null===x||void 0===x?void 0:x.fiatPrice):null,amountOfDecode:Pe||0,autoPayment:Boolean(x.autoRenew),autoPaymentMethod:x.autoRenewMethod});case 5:X(ie("editSubscriptionSuccess"),{variant:"success"}),Y(),s(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),M((0,N.getErrorMessage)(e.t0)),X(ie("editSubscriptionFailed"),{variant:"error"});case 14:return e.prev=14,z(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,I.jsx)(S.ZP,{open:n,onClose:s,maxWidth:"md",defaultBtn:!1,children:oe||ae||H?(0,I.jsx)(h.Z,{alignItems:"center",justifyContent:"center",sx:{height:300},children:(0,I.jsx)(a.Z,{})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(d.Z,{sx:{textAlign:"center",fontWeight:700,mb:4},children:ie("editSubscription")}),(0,I.jsx)(P.Z,{sx:{px:3},children:(0,I.jsx)(w.ZP,{container:!0,spacing:2,children:ue.map((function(e){return(0,I.jsx)(w.ZP,{item:!0,xs:12,md:6,lg:3,onClick:function(){return R((0,Z.get)(e,"value"))},children:(0,I.jsxs)(P.Z,{sx:{backgroundColor:"background.card",borderRadius:1,p:2},children:[(0,I.jsx)(P.Z,{sx:{textAlign:"right",mt:-2,mr:-2},children:(0,I.jsx)(D.Z,{checked:A==(0,Z.get)(e,"value"),value:(0,Z.get)(e,"value")})}),(0,I.jsx)(d.Z,{sx:{mt:-2},children:e.title}),(0,I.jsx)(d.Z,{children:e.price})]})})}))})}),(0,I.jsx)(P.Z,{sx:{px:3},children:(0,I.jsxs)(S.dz,{values:x,setValues:v,children:[(0,I.jsxs)(P.Z,{sx:{display:"flex",alignItems:"center",my:2,mb:1},children:[(0,I.jsxs)(d.Z,{sx:{width:150},children:[ie("subscriptionType"),":"]}),(0,I.jsx)(S.Nz,{options:Se,field:"subscriptionType",size:"small",sx:{width:210,textAlign:"left"},wrapperSx:{justifyContent:"flex-start"},onSelectedSuccess:function(e){var i=e.oldValue,n=e.newValue;i!==n&&R(("std"===n?V:Q).filter((function(e){return!e.isFreePlan}))[0].id)}})]}),(0,I.jsxs)(P.Z,{sx:{display:"flex",alignItems:"center",my:1},children:[(0,I.jsxs)(d.Z,{sx:{width:150},children:[ie("endDate"),":"]}),(0,I.jsx)(d.Z,{children:we?(0,l.formatDate)(we):""})]}),(0,I.jsxs)(P.Z,{sx:{display:"flex",alignItems:"center",my:1},children:[(0,I.jsxs)(d.Z,{sx:{width:150},children:[ie("autoRenew"),":"]}),(0,I.jsx)(S.RM,{field:"autoRenew"})]}),(0,I.jsxs)(P.Z,{sx:{display:"flex",alignItems:"center",my:1},children:[(0,I.jsxs)(d.Z,{sx:{width:150},children:[ie("autoRenewMethod"),":"]}),(0,I.jsx)(S.Nz,{options:Fe,field:"autoRenewMethod",size:"small",sx:{width:210,textAlign:"left"},wrapperSx:{justifyContent:"flex-start"}})]}),(0,I.jsxs)(P.Z,{sx:{my:1},children:[ve&&((null===xe||void 0===xe?void 0:xe.canUseFiat)||(null===xe||void 0===xe?void 0:xe.canUseCrypto)||(null===xe||void 0===xe?void 0:xe.canUsePromotion))&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(d.Z,{sx:{mb:2},children:[ie("paymentMethod"),":"]}),(0,I.jsxs)(P.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(null===xe||void 0===xe?void 0:xe.canUseFiat)&&(0,I.jsx)(S.RM,{field:"fiat",label:(0,I.jsx)(S.XI,{InputProps:{startAdornment:(0,I.jsx)(C.Z,{position:"start",children:"USD"})},disabled:!(null!==x&&void 0!==x&&x.fiat),field:"fiatPrice",size:"small",type:"number",onBlur:De})}),(null===xe||void 0===xe?void 0:xe.canUseCrypto)&&(0,I.jsx)(S.RM,{field:"decode",label:null!==xe&&void 0!==xe&&xe.DECODEDiscount?ie("useDECODEWithDiscount",{discount:(0,l.percentageFormator)(null===xe||void 0===xe?void 0:xe.DECODEDiscount)}):"DECODE"})]})]}),!(null!==xe&&void 0!==xe&&xe.isFreePlan)&&ve&&(x.fiat||x.decode)&&(0,I.jsxs)(h.Z,{sx:{mt:2},children:[(0,I.jsx)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:(0,I.jsxs)(d.Z,{children:[ie("totalUSDNeedPayment"),": USD ",(0,l.currencyFormator)(Ze)]})}),(0,I.jsx)(d.Z,{color:"#A0A0B4",sx:{fontSize:"10px",mb:2},children:ie("academyUpgradeDifferenceNote")}),(0,I.jsxs)(d.Z,{sx:{mb:1},children:[ie("estimatedPayment"),":"]}),(0,I.jsxs)(h.Z,{children:[x.fiat&&(0,I.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,I.jsx)(d.Z,{variant:"subtitle",fontWeight:"600",minWidth:"80px",children:"USD:"}),(0,I.jsx)(d.Z,{variant:"subtitle",fontWeight:"600",children:(0,l.currencyFormator)(x.fiatPrice||0)})]}),x.decode&&(0,I.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,I.jsx)(d.Z,{variant:"subtitle",minWidth:"80px",fontWeight:"600",children:"DECODE:"}),(0,I.jsx)(d.Z,{variant:"subtitle",fontWeight:"600",children:be?"-/-":(0,l.currencyFormator)(Pe)}),(0,I.jsxs)(d.Z,{color:"#A0A0B4",variant:"caption",children:[null!==x&&void 0!==x&&x.fiat?Ze-((null===x||void 0===x?void 0:x.fiatPrice)||0):Ze," \xd7 ",(0,l.percentageFormator)(1-xe.DECODEDiscount)," \xd7 ",ye," (",ie("exchangeRate"),")"]})]})]})]}),he&&(0,I.jsx)(d.Z,{color:"#A0A0B4",sx:{fontSize:"10px",mt:2},children:ie("academyDowngradeNote")}),W&&(0,I.jsx)(P.Z,{sx:{mt:2},children:(0,I.jsx)(d.Z,{color:"error",children:ie(W)})}),(0,I.jsx)(P.Z,{sx:{textAlign:"center",my:2,mt:3},children:(0,I.jsx)(F.sq,{onClick:Ee,disabled:!Ce,sx:{width:200},loading:B,children:ie("confirm")})})]})]})})]})})},A=n(79090),R=n(31017),O=n(47793),L=n(54581),W=function(e){var i=e.open,n=e.onClose,s=(0,g.useState)({autoRenewMethod:"USD",autoRenew:!1}),c=(0,o.Z)(s,2),u=c[0],x=c[1],v=(0,g.useState)(null),b=(0,o.Z)(v,2),w=b[0],D=b[1],U=(0,g.useState)(null),W=(0,o.Z)(U,2),M=W[0],q=W[1],T=(0,g.useState)(!1),B=(0,o.Z)(T,2),z=B[0],X=B[1],_=(0,j.Ds)().enqueueSnackbar,V=(0,m.EfN)(),Q=V.stdPlan,H=V.proPlan,G=V.isLoading,K=(0,m.NO7)(),J=K.data,Y=K.isLoading,$=K.mutate,ee=(0,E.Z)().user;(0,g.useEffect)((function(){i&&(D(null),q(null))}),[i]),(0,g.useEffect)((function(){i&&!Y&&J&&x({autoRenewMethod:(null===J||void 0===J?void 0:J.autoRenewMethod)||"USD",autoRenew:(null===J||void 0===J?void 0:J.autoRenew)||!1})}),[i,Y,J]);var ie=(0,f.Z)(),ne=ie.t,te=(ie.currentLang,(0,m.OOt)()),re=te.data,oe=te.isLoading,le=(0,m.pQi)(),se=le.data,ae=le.isLoading,de=(0,Z.find)(null===re||void 0===re?void 0:re.balances,(function(e){return"USD"===e.currency})),ce=(0,Z.find)(null===se||void 0===se?void 0:se.balances,(function(e){return"DECODE"===e.currency})),ue=(0,Z.find)("std"===(0,Z.toLower)(J.subscribePriceType)?Q:H,(function(e){var i;return e.id===(null===J||void 0===J||null===(i=J.subscribePrice)||void 0===i?void 0:i.id)}))||{},xe=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(null),!(0,Z.isNil)(null===u||void 0===u?void 0:u.promotionCode)&&0!==(null===u||void 0===u?void 0:u.promotionCode.length)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,m.QG9)({regulation:null===ee||void 0===ee?void 0:ee.regulation,code:null===u||void 0===u?void 0:u.promotionCode,unit:null===ue||void 0===ue?void 0:ue.unit});case 6:i=e.sent,console.log(i),D((0,y.Z)({status:"vaild"},i)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),D({status:"error"});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();(0,g.useEffect)((function(){ue&&xe()}),[null===ue||void 0===ue?void 0:ue.unit]);var ve=((null===ue||void 0===ue?void 0:ue.price)||0)*(w&&"rebate"===w.type?1-w.value:1),he=(0,m.osX)({priceId:null!==u&&void 0!==u&&u.decode?null===ue||void 0===ue?void 0:ue.id:null,amount:null!==u&&void 0!==u&&u.fiat?ve-((null===u||void 0===u?void 0:u.fiatPrice)||0):ve}),pe=he.data,me=he.isLoading,fe=null===pe||void 0===pe?void 0:pe.rate,Ze=null!==J&&void 0!==J&&J.endDate?function(e,i){var n=(0,k.default)(e);switch(i.unit){case"month":return(0,A.Z)(n,1);case"quarter":return(0,R.Z)(n,1);case"year":return(0,O.Z)(n,1);default:return null}}(null===J||void 0===J?void 0:J.endDate,ue):null,je=function(){var e=Number(u.fiatPrice);(e>ve||e<0)&&x((function(i){return(0,y.Z)((0,y.Z)({},i),{},{fiatPrice:Math.max(0,Math.min(e,ve))})}))};(0,g.useEffect)((function(){je()}),[ve,u.fiatPrice]);var ge=!u.decode||null!==ue&&void 0!==ue&&ue.isFreePlan?0:null===pe||void 0===pe?void 0:pe.payDecode,be=(u.fiat&&!u.decode?Number(u.fiatPrice)===ve&&Number(u.fiatPrice)<=Number((null===de||void 0===de?void 0:de.value)||0):!u.fiat&&u.decode?ge<=Number((null===ce||void 0===ce?void 0:ce.value)||0):!(u.fiat||u.decode||null===u||void 0===u||!u.hasPromotionCode)||!(!u.fiat||!u.decode)&&(Number(u.fiatPrice)<=Number((null===de||void 0===de?void 0:de.value)||0)&&ge<=Number((null===ce||void 0===ce?void 0:ce.value)||0)))&&(!u.hasPromotionCode||!(0,Z.isNil)(w)&&"vaild"===w.status&&0!==(u.promotionCode||"").length),ye=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(null),X(!0),e.next=5,(0,m.cFH)({promotionCode:u.promotionCode,amountOfFiat:null!==u&&void 0!==u&&u.fiatPrice?Number(null===u||void 0===u?void 0:u.fiatPrice):null,amountOfDecode:ge||0,endDate:Ze});case 5:_(ne("topupSuccess"),{variant:"success"}),$(),n(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),q((0,N.getErrorMessage)(e.t0)),_(ne("topupFaild"),{variant:"error"});case 14:return e.prev=14,X(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),Pe=oe||ae||G||Y;return(0,I.jsx)(S.ZP,{open:i,onClose:n,maxWidth:"md",defaultBtn:!1,children:Pe?(0,I.jsx)(h.Z,{alignItems:"center",justifyContent:"center",sx:{height:300},children:(0,I.jsx)(a.Z,{})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(d.Z,{sx:{textAlign:"center",fontWeight:700,mb:4},children:ne("topupSubscription")}),(0,I.jsxs)(h.Z,{sx:{px:3},spacing:2,children:[(0,I.jsxs)(h.Z,{spacing:1,children:[(0,I.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,I.jsx)(d.Z,{children:ne("subscriptionTypeTitle",{unit:ne(ue.unit)})}),(0,I.jsx)(p.Z,{text:ne("currentPlan"),bg:"#FFB400"})]}),(0,I.jsx)(d.Z,{color:"#A0A0B4",children:ne("planPrice",{price:(0,l.currencyFormator)(null===ue||void 0===ue?void 0:ue.price),unit:ne(null===ue||void 0===ue?void 0:ue.unit)})}),(0,I.jsx)(d.Z,{children:ne("".concat((0,Z.toLower)(J.subscribePriceType),"Plan"))})]}),(0,I.jsxs)(S.dz,{values:u,setValues:x,children:[(0,I.jsxs)(P.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsxs)(d.Z,{sx:{width:150},children:[ne("nextPayment"),":"]}),(0,I.jsx)(d.Z,{children:Ze?(0,l.formatDate)(Ze):""})]}),(0,I.jsxs)(P.Z,{sx:{mt:3},children:[((null===ue||void 0===ue?void 0:ue.canUseFiat)||(null===ue||void 0===ue?void 0:ue.canUseCrypto)||(null===ue||void 0===ue?void 0:ue.canUsePromotion))&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(d.Z,{sx:{mb:2},children:[ne("paymentMethod"),":"]}),(0,I.jsxs)(P.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(null===ue||void 0===ue?void 0:ue.canUseFiat)&&(0,I.jsx)(S.RM,{field:"fiat",label:(0,I.jsx)(S.XI,{InputProps:{startAdornment:(0,I.jsx)(C.Z,{position:"start",children:"USD"})},disabled:!(null!==u&&void 0!==u&&u.fiat),field:"fiatPrice",size:"small",type:"number",onBlur:je})}),(null===ue||void 0===ue?void 0:ue.canUseCrypto)&&(0,I.jsx)(S.RM,{field:"decode",label:null!==ue&&void 0!==ue&&ue.DECODEDiscount?ne("useDECODEWithDiscount",{discount:(0,l.percentageFormator)(null===ue||void 0===ue?void 0:ue.DECODEDiscount)}):"DECODE"}),Boolean(null===ue||void 0===ue?void 0:ue.canUsePromotion)&&(0,I.jsx)(S.RM,{field:"hasPromotionCode",label:ne("promotionCode")})]}),Boolean(null===ue||void 0===ue?void 0:ue.canUsePromotion)&&(0,I.jsxs)(h.Z,{sx:{my:3},children:[(0,I.jsx)(S.XI,{field:"promotionCode",size:"small",disabled:!(null!==u&&void 0!==u&&u.hasPromotionCode),label:ne("promotionCode"),onBlur:xe}),w&&(0,I.jsx)(h.Z,{sx:{mt:1},children:(0,I.jsx)(L.E,{promotionCodeInfo:w})})]})]}),!(null!==ue&&void 0!==ue&&ue.isFreePlan)&&(u.fiat||u.decode||u.hasPromotionCode)&&(0,I.jsxs)(h.Z,{sx:{mt:2},children:[(0,I.jsx)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:(0,I.jsxs)(d.Z,{children:[ne("totalUSDNeedPayment"),": USD ",(0,l.currencyFormator)(ve)]})}),(0,I.jsxs)(d.Z,{sx:{mb:1},children:[ne("estimatedPayment"),":"]}),(0,I.jsxs)(h.Z,{children:[u.fiat&&(0,I.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,I.jsx)(d.Z,{variant:"subtitle",fontWeight:"600",minWidth:"80px",children:"USD:"}),(0,I.jsx)(d.Z,{variant:"subtitle",fontWeight:"600",children:(0,l.currencyFormator)(u.fiatPrice||0)})]}),u.decode&&(0,I.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,I.jsx)(d.Z,{variant:"subtitle",minWidth:"80px",fontWeight:"600",children:"DECODE:"}),(0,I.jsx)(d.Z,{variant:"subtitle",fontWeight:"600",children:me?"-/-":(0,l.currencyFormator)(ge)}),(0,I.jsxs)(d.Z,{color:"#A0A0B4",variant:"caption",children:[ue.price-(u.fiat&&u.fiatPrice||0)," \xd7 ",(0,l.percentageFormator)(1-ue.DECODEDiscount)," \xd7 ",fe," (",ne("exchangeRate"),")"]})]})]})]}),M&&(0,I.jsx)(P.Z,{sx:{mt:2},children:(0,I.jsx)(d.Z,{color:"error",children:ne(M)})}),(0,I.jsx)(P.Z,{sx:{textAlign:"center",my:2,mt:3},children:(0,I.jsx)(F.sq,{onClick:ye,disabled:!be,sx:{width:200},loading:z,children:ne("topUp")})})]})]})]})]})})},M=function(e){var i,n,b=(0,f.Z)().t,y=(0,g.useState)(!1),P=(0,o.Z)(y,2),w=P[0],D=P[1],C=(0,g.useState)(!1),S=(0,o.Z)(C,2),F=S[0],E=S[1],k=(0,g.useState)(!1),N=(0,o.Z)(k,2),A=N[0],R=N[1],O=(0,j.Ds)().enqueueSnackbar,L=(0,m.NO7)(),M=L.data,q=L.mutate,T=L.isLoading,B=(0,m.EfN)(),z=B.stdPlan,X=B.proPlan,_=B.isLoading,V=null===(i=(0,Z.find)("std"===(0,Z.toLower)(M.subscribePriceType)?z:X,(function(e){var i;return e.id===(null===M||void 0===M||null===(i=M.subscribePrice)||void 0===i?void 0:i.id)})))||void 0===i?void 0:i.rawData,Q=null===(n=(0,Z.find)("std"===(0,Z.toLower)(M.nextSubscribePrice.type)?z:X,(function(e){var i;return e.id===(null===M||void 0===M||null===(i=M.nextSubscribePrice)||void 0===i?void 0:i.id)})))||void 0===n?void 0:n.rawData;console.log(M);var H=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),e.next=4,(0,m.U_F)({autoPayment:!1});case 4:O(b("editSubscriptionSuccess"),{variant:"success"}),q(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O(b("editSubscriptionFailed"),{variant:"error"});case 11:return e.prev=11,R(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),G=T||_;return(0,I.jsx)(h.Z,{spacing:2,sx:{backgroundColor:"background.subscriptions",borderRadius:1,p:4},children:G?(0,I.jsx)(h.Z,{alignItems:"center",justifyContent:"center",sx:{height:300},children:(0,I.jsx)(a.Z,{})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(h.Z,{spacing:2,children:[(0,I.jsx)(d.Z,{sx:{fontWeight:700,fontSize:18,textAlign:"center"},children:b("aboutThePolicy")}),(0,I.jsxs)(h.Z,{spacing:1,sx:{backgroundColor:"background.card",borderRadius:1,p:4,mx:4},children:[(0,I.jsx)(d.Z,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}),(0,I.jsx)(d.Z,{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]}),(0,I.jsxs)(h.Z,{spacing:1,children:[(0,I.jsx)(d.Z,{sx:{fontWeight:700,fontSize:18,textAlign:"center"},children:b("mySubscription")}),(0,I.jsxs)(h.Z,{spacing:1,sx:{backgroundColor:"background.card",borderRadius:1,p:4,mx:4},children:[(0,I.jsxs)(h.Z,{direction:"row",alignItems:"flex-start",spacing:4,children:[(0,I.jsxs)(h.Z,{spacing:1,children:[(0,I.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,I.jsx)(d.Z,{children:b("subscriptionTypeTitle",{unit:b(V.unit)})}),(0,I.jsx)(p.Z,{text:b("currentPlan"),bg:"#FFB400"})]}),(0,I.jsx)(d.Z,{color:"#A0A0B4",children:b("planPrice",{price:(0,l.currencyFormator)(null===V||void 0===V?void 0:V.usd),unit:b(null===V||void 0===V?void 0:V.unit)})}),(0,I.jsx)(d.Z,{children:b("".concat((0,Z.toLower)(V.type),"Plan"))})]}),Q&&(0,I.jsxs)(h.Z,{spacing:1,children:[(0,I.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,I.jsx)(d.Z,{children:b("subscriptionTypeTitle",{unit:b(Q.unit)})}),(0,I.jsx)(p.Z,{text:b("nextPlan"),bg:"#FFB400"})]}),(0,I.jsx)(d.Z,{color:"#A0A0B4",children:b("planPrice",{price:(0,l.currencyFormator)(null===Q||void 0===Q?void 0:Q.usd),unit:b(null===Q||void 0===Q?void 0:Q.unit)})}),(0,I.jsx)(d.Z,{children:b("".concat((0,Z.toLower)(Q.type),"Plan"))})]})]}),(0,I.jsx)(c.Z,{sx:{pt:1}}),(0,I.jsxs)(h.Z,{sx:{pt:1},direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[(0,I.jsxs)(h.Z,{direction:"row",alignItems:"flex-start",spacing:6,children:[(0,I.jsxs)(h.Z,{spacing:1,children:[(0,I.jsx)(d.Z,{children:b("nextPayment")}),(0,I.jsxs)(d.Z,{color:"#A0A0B4",children:["USD ",(0,l.currencyFormator)(Q?null===Q||void 0===Q?void 0:Q.usd:null===V||void 0===V?void 0:V.usd)]})]}),(0,I.jsxs)(h.Z,{spacing:1,children:[(0,I.jsx)(d.Z,{children:b("paymentMethod")}),(0,I.jsxs)(d.Z,{color:"#A0A0B4",children:[b("fiat")," (USD)"]}),(0,I.jsxs)(d.Z,{color:"#A0A0B4",children:[b("crypto")," (DECODE)"]})]}),M.startDate&&(0,I.jsxs)(h.Z,{spacing:1,children:[(0,I.jsx)(d.Z,{children:b("startDate")}),(0,I.jsx)(d.Z,{color:"#A0A0B4",children:(0,l.formatDate)(M.startDate)})]}),M.endDate&&(0,I.jsxs)(h.Z,{spacing:1,children:[(0,I.jsx)(d.Z,{children:b("paidToDate")}),(0,I.jsx)(d.Z,{color:"#A0A0B4",children:(0,l.formatDate)(M.endDate)})]})]}),(0,I.jsx)(u.Z,{onClick:function(){},sx:{color:"rgb(255,197,0)"},children:b("viewPaymentHistory")})]}),(0,I.jsxs)(h.Z,{sx:{mt:2},children:[(0,I.jsxs)(h.Z,{alignItems:"center",justifyContent:"space-between",direction:"row",children:[(0,I.jsx)(d.Z,{sx:{fontWeight:600},children:b("enableAutoRenew")}),(0,I.jsx)(x.Z,{disabled:!0,checked:M.autoRenew})]}),(0,I.jsx)(d.Z,{color:"#A0A0B4",children:b("autoRenewNote")})]})]})]}),(0,I.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,justifyContent:"center",children:[(0,I.jsx)(v.Z,{variant:"contained",sx:{minWidth:"100px",color:"black"},onClick:function(){return D(!0)},children:b("topUp")}),(0,I.jsx)(v.Z,{variant:"contained",onClick:function(){return E(!0)},sx:{minWidth:"100px",color:"black"},children:b("edit")}),(0,I.jsx)(s.Z,{variant:"outlined",sx:{borderColor:"white",color:"white",":hover":{borderColor:"white"},minWidth:"100px"},onClick:H,loading:A,children:b("cancelSubscription")})]}),(0,I.jsx)(W,{open:w,onClose:function(){return D(!1)}}),(0,I.jsx)(U,{open:F,onClose:function(){return E(!1)}})]})})}},49439:function(e,i,n){n.d(i,{l:function(){return f}});var t=n(12130),r=n(31530),o=n(26521),l=n(24786),s=n(93847),a=n(26851),d=n(86521),c=n(64505),u=n(54581),x=n(33385),v=n(88658),h=n(49802),p=n(96390),m=n(98845),f=function(){var e=(0,v.Z)(),i=e.t,n=e.currentLang,f=(0,r.useState)(null),Z=(0,t.Z)(f,2),j=Z[0],g=Z[1],b=(0,r.useState)(!1),y=(0,t.Z)(b,2),P=y[0],w=y[1],D=(0,h.EfN)(),C=D.stdPlan,S=D.isLoading,F=function(e){g(e)},E=(0,h.iKv)().data,k=C.filter((function(e){return"on"!==e.status||!E||!0!==e.isFreePlan})).map((function(e){return{value:e.id,title:e.isFreePlan?i("freePlanTitle",{unit:i(e.unit),count:e.quantity}):i("normalPlanTitle",{unit:i(e.unit),count:e.quantity}),content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et.",price:e.isFreePlan?i("freePlanTitle2",{unit:"en"===n.value?e.unit:i(e.unit),count:e.quantity}):i("planPrice",{unit:"en"===n.value?e.unit:i(e.unit),price:(0,p.DU)(e.price)})}}));return(0,r.useEffect)((function(){S||g(k[0].value)}),[S,k]),(0,m.jsxs)(o.Z,{children:[(0,m.jsxs)(o.Z,{sx:{backgroundColor:"background.subscriptions",borderRadius:1,p:2,textAlign:"center"},children:[(0,m.jsx)(l.Z,{sx:{fontWeight:700,fontSize:18,my:2},children:"Orion Tade signal introduction"}),(0,m.jsx)(l.Z,{sx:{my:2},children:"Powered by Orion Trading Academy"}),(0,m.jsx)(l.Z,{sx:{my:2,px:4},children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),(0,m.jsx)(o.Z,{sx:{width:"90%",mx:"auto"},children:(0,m.jsx)(x.Z,{})}),(0,m.jsx)(l.Z,{sx:{my:2,mb:4,px:4},children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."}),(0,m.jsx)(s.Z,{children:(0,m.jsx)(d.ZP,{container:!0,spacing:2,children:k.map((function(e){return(0,m.jsx)(d.ZP,{item:!0,xs:12,md:6,lg:3,children:(0,m.jsx)(a.Z,{data:e,onChange:F,select:j})})}))})}),(0,m.jsx)(o.Z,{sx:{textAlign:"center",my:2,mt:4},children:(0,m.jsx)(c.sq,{onClick:function(){w(!0)},disabled:null==j,sx:{width:200},children:i("subscribeNow")})})]}),(0,m.jsx)(u.Z,{open:P,onClose:function(){return w(!1)},defaultSelected:j,t:i})]})}}}]);