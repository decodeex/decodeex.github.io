"use strict";(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[4399],{74775:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}o.default=e,r&&r.set(e,o);return o}(r(31530)),u=r(34585),i=r(28239),l=(r(39702),r(61051)),a=S(r(13340)),c=r(84e3),s=S(r(88817)),f=(S(r(21961)),r(78545)),d=S(r(987)),y=S(r(5368)),p=r(78486),b=S(r(68118)),m=S(r(2014)),j=S(r(68467)),g=r(75303),x=r(56535),h=r(19283),v=r(65576),O=r(98845);function S(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,i,l=[],a=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=u.call(r)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{if(!a&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){var t=(0,f.useNavigation)(),r=(0,c.useTranslation)("app").t,n=e.data,o=e.isLoading,i=e.currentTab,s=e.getCurrentTab,d=e.forexIsLoading,y=(e.mutate,[{label:"live",color:(0,l.useColorModeValueKey)("stockGreen")},{label:"hidden",color:(0,l.useColorModeValueKey)("stockRed")},{label:"demo",color:(0,l.useColorModeValueKey)("dark")}]);return(0,O.jsxs)(u.Box,{children:[(0,O.jsx)(a.default,{title:"forexAccountsBalance",rounded:"2xl",data:n,isLoading:o,onPress:function(){"web"===x.Platform.OS?t.navigate("forexHome"):t.navigate("ForxTransactionHistory")}}),(0,O.jsx)(j.default,{}),!d&&(0,O.jsx)(g.ToggleTab,{arr:y,currentTab:i,getCurrentTab:s}),"hidden"==i&&!d&&(0,O.jsx)(u.HStack,{mb:1,justifyContent:"center",children:(0,O.jsx)(u.Text,{fontSize:"xs",children:r("hideAccountHint")})})]})},C=(0,o.memo)((function(e){e.my,e.request;var t=(0,c.useTranslation)("app").t,r=(0,i.useProfile)(),n=r.kycVerified,a=r.kycShow,f=(0,p.useAuth)().isLoggedIn,j=(0,i.useForexAccounts)(),g=j.data,S=j.isLoading,w=P((0,o.useState)("live"),2),M=w[0],C=w[1],T=P((0,o.useState)(""),2),A=T[0],_=T[1],I=(0,i.useForexList)({type:M}),L=I.data,V=I.isLoading,D=I.mutate,W=I.isValidating,K=(0,h.useRefreshAllBalances)(),B=(L||[]).filter((function(e){return"activated"==e.status&&!e.isLiquidation})),R=Object.assign({},g,{balances:B});return(0,v.useForexAccountTick)({logins:B.map((function(e){return e.login}))}),(0,O.jsxs)(s.default,{children:[(0,O.jsx)(u.Box,{px:"web"===x.Platform.OS?0:3,my:f&&!a?0:2,children:(0,O.jsx)(b.default,{})}),(0,O.jsxs)(u.Box,{flex:1,space:2,my:f&&!a?2:0,px:"web"===x.Platform.OS?0:3,roundedTop:"md",bg:(0,l.useColorModeValueKey)("white"),h:"full",children:[(0,O.jsx)(u.Box,{children:(0,O.jsx)(m.default,{title:t("forex"),introduce:t("forexIntroduce")})}),f&&n?(0,O.jsx)(u.Box,{h:"full",children:(0,O.jsx)(u.FlatList,{ListHeaderComponent:(0,O.jsx)(k,{isLoading:S&&V,forexIsLoading:V,currentTab:M,data:R,getCurrentTab:function(e){return C(e)},mutate:D}),data:L,keyExtractor:function(e,t){return e.id},renderItem:function(e){var t=e.item;return(0,O.jsx)(y.default,{currentTab:M,onPress:!0,item:t,isLoading:V,login:A,setLogin:function(e){return _(e)}})},ItemSeparatorComponent:function(){return(0,O.jsx)(u.Box,{h:2})},refreshControl:"web"===x.Platform.OS?null:(0,O.jsx)(x.RefreshControl,{onRefresh:function(){D(),K()},refreshing:W,tintColor:(0,u.useToken)("colors",(0,l.useColorModeValueKey)("dark")),progressBackgroundColor:(0,u.useToken)("colors",(0,l.useColorModeValueKey)("white")),colors:[(0,u.useToken)("colors",(0,l.useColorModeValueKey)("dark"))]}),ListEmptyComponent:!V&&(0,O.jsx)(d.default,{title:t("noForexAccounts",{type:t(M)})})})}):null]})]})}));t.default=C},68467:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;s(r(31530));var n=r(34585),o=r(84e3),u=r(61051),i=r(78486),l=s(r(50865)),a=r(78545),c=r(98845);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){var t=e.mt,r=void 0===t?2:t,s=(0,o.useTranslation)("app").t,f=(0,a.useNavigation)(),d=(0,i.useSignInMiddleWare)(),p=(0,i.useKycRequiredMiddleWare)();return(0,c.jsxs)(n.Row,y(y({mb:2,space:2,mt:r},e),{},{children:[(0,c.jsx)(n.Pressable,{rounded:"md",bg:(0,u.useColorModeValueKey)("grayerWhite"),py:4,px:3,style:{flex:1},onPress:function(){p(d((function(){f.navigate("ApplyAccount")})))()},children:(0,c.jsxs)(n.Row,{rounded:"lg",alignItems:"center",justifyContent:"space-between",children:[(0,c.jsx)(n.Text,{fontSize:"xs",children:s("applyLiveAccount")}),(0,c.jsx)(l.default,{})]})}),(0,c.jsx)(n.Pressable,{rounded:"md",bg:(0,u.useColorModeValueKey)("grayerWhite"),py:4,px:3,style:{flex:1},onPress:function(){p(d((function(){f.navigate("ApplyDemoAccount")})))()},children:(0,c.jsxs)(n.Row,{rounded:"lg",alignItems:"center",justifyContent:"space-between",children:[(0,c.jsx)(n.Text,{fontSize:"xs",children:s("applyDemoAccount")}),(0,c.jsx)(l.default,{})]})})]}))};t.default=b},21961:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}o.default=e,r&&r.set(e,o)}(r(31530));var o=r(34585),u=r(84e3),i=r(61051),l=r(98845);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}var c=function(e){var t=(0,u.useTranslation)("app").t,r=e.actionList,n=e.isOpen,a=e.onClose,c=(0,i.useColorModeValueKey)("dark");return(0,l.jsx)(o.Actionsheet,{isOpen:n,onClose:a,children:(0,l.jsx)(o.Actionsheet.Content,{borderTopRadius:"10",children:r.map((function(e,r){return(0,l.jsx)(o.Actionsheet.Item,{alignItems:"center",onPress:e.onPress?e.onPress:null,children:(0,l.jsx)(o.Text,{fontSize:"md",color:e.isDisabled?"customDark.300":c,children:t(e.label)})},r)}))})})};t.default=c},75303:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleTab=void 0;var o,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}o.default=e,r&&r.set(e,o);return o}(r(31530)),i=r(34585),l=r(43904),a=r(61051),c=r(84e3),s=(o=r(33521))&&o.__esModule?o:{default:o},f=r(98845);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,i,l=[],a=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=u.call(r)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(s){c=!0,o=s}finally{try{if(!a&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.ToggleTab=function(e){var t=(0,c.useTranslation)("app").t,r=e.arr,n=e.currentTab,o=e.getCurrentTab,d=y((0,u.useState)(!1),2),p=d[0],b=d[1],m=(0,u.useCallback)((function(e){var t=e.hovered,r=e.pressed;return{opacity:t||r?.5:1,scale:t||r?.95:1}}),[]);return(0,f.jsxs)(i.Box,{children:[(0,f.jsxs)(i.HStack,{justifyContent:"space-between",alignItems:"center",children:[(0,f.jsx)(i.HStack,{children:r.map((function(e,r){return(0,f.jsx)(l.MotiPressable,{onPress:function(){return o(e.label)},animate:m,children:(0,f.jsx)(i.HStack,{rounded:"md",px:3,py:1,mb:2,bg:n===e.label?(0,a.useColorModeValueKey)("grayerWhite"):(0,a.useColorModeValueKey)("white"),children:(0,f.jsx)(i.Text,{color:e.color,children:t(e.label)})})},e.label||r)}))}),(0,f.jsxs)(i.HStack,{my:1,mr:2,children:[(0,f.jsx)(i.Text,{fontSize:"xs",children:t("rules")}),(0,f.jsx)(i.Pressable,{ml:1,onPress:function(){return b(!0)},children:(0,f.jsx)(i.QuestionOutlineIcon,{})})]})]}),(0,f.jsx)(s.default,{isOpen:p,onClose:function(){return b(!1)},title:t("rules"),value:t("accountRules")})]})}},74399:function(e,t,r){t.Z=void 0;i(r(31530));var n=i(r(74775)),o=r(34585),u=r(98845);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){return(0,u.jsx)(o.VStack,{children:(0,u.jsx)(n.default,{my:0})})};t.Z=l}}]);