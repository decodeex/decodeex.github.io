(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[5532],{28366:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(92680),o=n(24190),i=n(2211),a=n(12130),s=n(19477),c=n(99317),l=n(24786),u=n(31530),d=n(64234),h=n(13234),_=n(7403),p=n(56141);function f(e,t){var n=(0,i.Z)({},e);for(var r in t)"object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?void 0!==t[r]&&(n[r]=t[r]):n[r]=f(e[r],t[r]);return n}var v={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},m={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}},g=!1;var y=function(){function e(t){if((0,_.Z)(this,e),this._id="tradingview_".concat((1048576*(1+Math.random())|0).toString(16).substring(1)),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=f(m,t),t.preset){var n=v[t.preset];n?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(n.disabled_features):this._options.disabled_features=n.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(n.enabled_features):this._options.enabled_features=n.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._options.debug&&(g||(g=!0,console.log("Using TT v22.032 (internal id e2a841ff @ 2022-07-06T11:55:17.248Z)"))),this._create()}return(0,p.Z)(e,[{key:"onChartReady",value:function(e){this._ready?e.call(this):this._readyHandlers.push(e)}},{key:"headerReady",value:function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))}},{key:"onGrayedObjectClicked",value:function(e){this._doWhenInnerApiLoaded((function(t){t.onGrayedObjectClicked(e)}))}},{key:"onShortcut",value:function(e,t){this._doWhenInnerWindowLoaded((function(n){n.createShortcutAction(e,t)}))}},{key:"subscribe",value:function(e,t){this._doWhenInnerApiLoaded((function(n){n.subscribe(e,t)}))}},{key:"unsubscribe",value:function(e,t){this._doWhenInnerApiLoaded((function(n){n.unsubscribe(e,t)}))}},{key:"chart",value:function(e){return this._innerAPI().chart(e)}},{key:"getLanguage",value:function(){return this._options.locale}},{key:"setSymbol",value:function(e,t,n){this._innerAPI().changeSymbol(e,t,n)}},{key:"remove",value:function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}},{key:"closePopupsAndDialogs",value:function(){this._doWhenInnerApiLoaded((function(e){e.closePopupsAndDialogs()}))}},{key:"selectLineTool",value:function(e){this._innerAPI().selectLineTool(e)}},{key:"selectedLineTool",value:function(){return this._innerAPI().selectedLineTool()}},{key:"save",value:function(e){this._innerAPI().saveChart(e)}},{key:"load",value:function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})}},{key:"getSavedCharts",value:function(e){this._innerAPI().getSavedCharts(e)}},{key:"loadChartFromServer",value:function(e){this._innerAPI().loadChartFromServer(e)}},{key:"saveChartToServer",value:function(e,t,n){this._innerAPI().saveChartToServer(e,t,n)}},{key:"removeChartFromServer",value:function(e,t){this._innerAPI().removeChartFromServer(e,t)}},{key:"onContextMenu",value:function(e){this._doWhenInnerApiLoaded((function(t){t.onContextMenu(e)}))}},{key:"createButton",value:function(e){return this._innerWindow().createButton(e)}},{key:"createDropdown",value:function(e){return this._innerWindow().createDropdown(e)}},{key:"showNoticeDialog",value:function(e){this._doWhenInnerApiLoaded((function(t){t.showNoticeDialog(e)}))}},{key:"showConfirmDialog",value:function(e){this._doWhenInnerApiLoaded((function(t){t.showConfirmDialog(e)}))}},{key:"showLoadChartDialog",value:function(){this._innerAPI().showLoadChartDialog()}},{key:"showSaveAsChartDialog",value:function(){this._innerAPI().showSaveAsChartDialog()}},{key:"symbolInterval",value:function(){return this._innerAPI().getSymbolInterval()}},{key:"mainSeriesPriceFormatter",value:function(){return this._innerAPI().mainSeriesPriceFormatter()}},{key:"getIntervals",value:function(){return this._innerAPI().getIntervals()}},{key:"getStudiesList",value:function(){return this._innerAPI().getStudiesList()}},{key:"getStudyInputs",value:function(e){return this._innerAPI().getStudyInputs(e)}},{key:"addCustomCSSFile",value:function(e){this._innerWindow().addCustomCSSFile(e)}},{key:"applyOverrides",value:function(e){this._options=f(this._options,{overrides:e}),this._doWhenInnerWindowLoaded((function(t){t.applyOverrides(e)}))}},{key:"applyStudiesOverrides",value:function(e){this._doWhenInnerWindowLoaded((function(t){t.applyStudiesOverrides(e)}))}},{key:"watchList",value:function(){return this._innerAPI().watchlist()}},{key:"news",value:function(){return this._innerAPI().news()}},{key:"widgetbar",value:function(){return this._innerAPI().widgetbar()}},{key:"activeChart",value:function(){return this._innerAPI().activeChart()}},{key:"chartsCount",value:function(){return this._innerAPI().chartsCount()}},{key:"layout",value:function(){return this._innerAPI().layout()}},{key:"setLayout",value:function(e){this._innerAPI().setLayout(e)}},{key:"layoutName",value:function(){return this._innerAPI().layoutName()}},{key:"changeTheme",value:function(e,t){return this._innerWindow().changeTheme(e,t)}},{key:"getTheme",value:function(){return this._innerWindow().getTheme()}},{key:"takeScreenshot",value:function(){this._doWhenInnerApiLoaded((function(e){e.takeScreenshot()}))}},{key:"lockAllDrawingTools",value:function(){return this._innerAPI().lockAllDrawingTools()}},{key:"hideAllDrawingTools",value:function(){return this._innerAPI().hideAllDrawingTools()}},{key:"drawOnAllCharts",value:function(e){this._innerAPI().drawOnAllCharts(e)}},{key:"magnetEnabled",value:function(){return this._innerAPI().magnetEnabled()}},{key:"magnetMode",value:function(){return this._innerAPI().magnetMode()}},{key:"undoRedoState",value:function(){return this._innerAPI().undoRedoState()}},{key:"setIntervalLinkingEnabled",value:function(e){this._innerAPI().setIntervalLinkingEnabled(e)}},{key:"setTimeFrame",value:function(e){this._innerAPI().setTimeFrame(e)}},{key:"symbolSync",value:function(){return this._innerAPI().symbolSync()}},{key:"intervalSync",value:function(){return this._innerAPI().intervalSync()}},{key:"crosshairSync",value:function(){return this._innerAPI().crosshairSync()}},{key:"timeSync",value:function(){return this._innerAPI().timeSync()}},{key:"getAllFeatures",value:function(){return this._innerWindow().getAllFeatures()}},{key:"clearUndoHistory",value:function(){return this._innerAPI().clearUndoHistory()}},{key:"undo",value:function(){return this._innerAPI().undo()}},{key:"redo",value:function(){return this._innerAPI().redo()}},{key:"startFullscreen",value:function(){this._innerAPI().startFullscreen()}},{key:"exitFullscreen",value:function(){this._innerAPI().exitFullscreen()}},{key:"takeClientScreenshot",value:function(e){return this._innerAPI().takeClientScreenshot(e)}},{key:"navigationButtonsVisibility",value:function(){return this._innerWindow().getNavigationButtonsVisibility()}},{key:"paneButtonsVisibility",value:function(){return this._innerWindow().getPaneButtonsVisibility()}},{key:"dateFormat",value:function(){return this._innerWindow().getDateFormat()}},{key:"_innerAPI",value:function(){return this._innerWindow().tradingViewApi}},{key:"_innerWindow",value:function(){return this._iFrame.contentWindow}},{key:"_doWhenInnerWindowLoaded",value:function(e){var t=this;this._ready?e(this._innerWindow()):this._innerWindowLoaded.then((function(){e(t._innerWindow())}))}},{key:"_doWhenInnerApiLoaded",value:function(e){var t=this;this._doWhenInnerWindowLoaded((function(n){n.doWhenApiIsReady((function(){return e(t._innerAPI())}))}))}},{key:"_autoResizeChart",value:function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")}},{key:"_create",value:function(){var e=this,t=this._render();this._options.container_id&&console.warn("`container_id` is now deprecated. Please use `container` instead to either still pass a string or an `HTMLElement`.");var n=this._options.container_id||this._options.container,r="string"==typeof n?document.getElementById(n):n;if(null===r)throw new Error("There is no such element - #".concat(this._options.container));r.innerHTML=t,this._iFrame=r.querySelector("#".concat(this._id));var o=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(o.style.width="100%",this._options.fullscreen||(o.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){o.addEventListener("load",(function t(){o.removeEventListener("load",t,!1),e()}),!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;var n,r=(0,h.Z)(e._readyHandlers);try{for(r.s();!(n=r.n()).done;){var o=n.value;try{o.call(e)}catch(t){console.error(t)}}}catch(i){r.e(i)}finally{r.f()}e._innerWindow().initializationFinished()}))}))}},{key:"_render",value:function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+"".concat(encodeURIComponent(this._options.locale),"-tv-chart.e2a841ff.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'}}]),e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"TT v22.032 (internal id e2a841ff @ 2022-07-06T11:55:17.248Z)"};var b=n(88658),w=n(98845);function k(){var e=new RegExp("[\\?&]lang=([^&#]*)").exec(window.location.search);return null===e?null:decodeURIComponent(e[1].replace(/\+/g," "))}var C=(0,u.forwardRef)((function(e,t){var n=e.symbol,r=(0,u.useRef)(null),o=(0,u.useRef)(!1);return(0,u.useImperativeHandle)(t,(function(){return{drawLines:function(e){var t;if(null!==(t=r.current)&&void 0!==t&&t.activeChart&&o.current)return(e||[]).map((function(e){var t;return null===(t=r.current.activeChart())||void 0===t?void 0:t.createShape({price:e.price},{shape:"horizontal_line",text:e.text,lock:!0,disableSave:!0,disableUndo:!0,overrides:{linecolor:e.lineColor||"green"}})}))},drawAlertIcon:function(e){var t,n={buy:"0xf0a6",sell:"0xf0a7",stopLoss:"0xf057",takeProfit:"0xf058"};if(null!==(t=r.current)&&void 0!==t&&t.activeChart&&o.current)return(e||[]).map((function(e){var t;return console.log(e),null===(t=r.current.activeChart())||void 0===t?void 0:t.createShape({price:e.price,time:e.time},{shape:"icon",lock:!0,disableSave:!0,disableUndo:!0,overrides:{color:e.color||"green",icon:n[e.type],size:16}})}))},removeLines:function(e){var t;null!==(t=r.current)&&void 0!==t&&t.activeChart&&o.current&&(e||[]).map((function(e){var t;null===(t=r.current.activeChart())||void 0===t||t.removeEntity(e)}))},getChartInstance:function(){return r.current}}}),[r.current,o.current]),u.useEffect((function(){var e={symbol:n||"AAPL",datafeed:new window.Datafeeds.UDFCompatibleDatafeed("https://demo_feed.tradingview.com"),container_id:"tv_chart_container",library_path:"/charting_library/",locale:k()||"en",chartsStorageUrl:"https://saveload.tradingview.com",chartsStorageApiVersion:"1.1",fullscreen:!1,autosize:!0,width:"100%",theme:"Dark",custom_css_url:"css/style.css",loading_screen:{backgroundColor:"rgb(40, 40, 61)",foregroundColor:"rgb(255,197,0)"},disabled_features:["save_chart_properties_to_local_storage","use_localstorage_for_settings","chart_crosshair_menu","order_panel","trading_account_manager","header_undo_redo","header_symbol_search","header_compare","header_saveload","header_settings","header_fullscreen_button","header_screenshot","header_layouttoggle","add_to_watchlist","right_toolbar"],enabled_features:["move_logo_to_main_pane"],overrides:{"paneProperties.backgroundType":"solid","paneProperties.background":"rgb(40, 40, 61)"}};return r.current=new y(e),r.current.onChartReady((function(){o.current=!0})),function(){null!==r.current&&(r.current.remove(),r.current=null,o.current=!1)}}),[]),(0,w.jsx)("div",{id:"tv_chart_container",style:{width:"100%",height:"100%"}})})),I=n(49802),S=n(54841),x=n(39702),Z=n(26521),A=n(37667),P=n(83427),R=n(95853),L=n(18898),F=n(14674),W=n(28418),j=n(43248),E=(n(4544),n(13526)),z=n(96537),T=(n(36376),n(23440),n(95434)),U=(n(96390),n(65576)),D=function(e){e.error,e.resetErrorBoundary;var t=(0,b.Z)().t;return(0,w.jsxs)(c.Z,{alignItems:"center",spacing:2,children:[(0,w.jsx)(l.Z,{fontSize:"20px",children:t("opoosError")}),(0,w.jsx)(l.Z,{children:t("pleaseRefreshPage")})]})},O=n(92309),B=function(e){(0,s.Z)(e);var t=(0,b.Z)("app").t,n=(0,d.useSearchParams)(),h=(0,a.Z)(n,1)[0].get("id")||null,_=(0,I.IrP)({id:h}),p=_.data,f=_.isLoading,v=_.utate,m=(0,S.H)((function(e){return[e.setProductId,e.setProductItem]})),g=(0,a.Z)(m,2),y=g[0],k=g[1],B=(0,I.ftb)({symbol:(0,x.get)(p,"symbol")}),M=B.data,N=B.isLoading,H=((0,I.Un)().tradingSignalService,(0,j.Z)().user,(0,P.useFavorite)()),V=(H.favoritesId,H.setFavoritesId,(0,W.Ds)().enqueueSnackbar);(0,U.default)();var q=(0,I._pY)(),J=q.data,K=(q.isLoading,J.filter((function(e){return"activated"===e.status&&"live"===e.type&&!Boolean((0,x.get)(e,"rawData.isHidden"))})));(0,u.useEffect)((function(){(0,x.isEmpty)(p)||f||(k(p),y(h))}),[p,f]);var X=(0,T.F)({disableSyncService:!0}).getStockColorValue,G=X(-1),Y=X(1),$=(0,u.useRef)(null),Q=(0,u.useRef)(null),ee=(0,u.useRef)(null),te=(0,R.H)((function(e){return[e.submitting,e.setSubmitting,e.isIniting,e.setIsIniting,e.reInitTrigger,e.setReInitTrigger,e.ready,e.setReady,e.account,e.setOpenRequirePassword,e.lot,e.showSignal,e.setShowSignal]})),ne=(0,a.Z)(te,13),re=ne[0],oe=ne[1],ie=ne[2],ae=(ne[3],ne[4],ne[5],ne[6]),se=(ne[7],ne[8]),ce=ne[9],le=ne[10],ue=ne[11],de=ne[12],he=(0,I.OhN)({accountId:se}),_e=he.data,pe=he.mutate,fe=(he.isLoading,(0,F.Z)(null===_e||void 0===_e?void 0:_e.login,null===_e||void 0===_e?void 0:_e.password,null===_e||void 0===_e?void 0:_e.groupType)),ve=(0,u.useMemo)((function(){return(0,w.jsx)(c.Z,{sx:{height:800},children:(0,w.jsx)(C,{ref:$})})}));(0,u.useEffect)((function(){var e;ue&&$.current&&M&&!N?Q.current=null===(e=$.current)||void 0===e?void 0:e.drawLines([{price:M.sl,lineColor:G,text:"sl"},{price:M.entry,lineColor:"rgb(255,197,0)",text:"entry"},{price:M.pt1,lineColor:Y,text:"pt1"},{price:M.pt2,lineColor:Y,text:"pt2"}]):Q.current&&(null===$||void 0===$||$.current.removeLines(Q.current));return function(){var e;null===(e=$.current)||void 0===e||e.removeLines(Q.current),Q.current=null}}),[ue,$.current,M]),(0,u.useEffect)((function(){var e;ue&&$.current&&M&&!N?(null===$||void 0===$||$.current.removeLines(ee.current),ee.current=null===(e=$.current)||void 0===e?void 0:e.drawAlertIcon((M.alertSignal||[]).map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"buy"===e.type||"takeProfit"===e.type?Y:G})})))):ee.current&&(null===$||void 0===$||$.current.removeLines(ee.current));return function(){var e;null===(e=$.current)||void 0===e||e.removeLines(ee.current),ee.current=null}}),[ue,$.current,M]),(0,u.useEffect)((function(){de(!1)}),[]);var me=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,oe(!0),e.next=4,t();case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(0),console.log(e.t0),"incorrectPassword"!==e.t0.message){e.next=13;break}ce(!0),e.next=14;break;case 13:throw e.t0;case 14:return e.prev=14,oe(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,6,14,17]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me((0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.sendOrder(p.symbol,F.M.Sell,Number(le),null,null,null);case 3:V(t("sellSuccess"),{variant:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),V(t("sellFailed",{reason:t(e.t0.message)}),{variant:"error"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me((0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.sendOrder(p.symbol,F.M.Buy,Number(le),null,null,null);case 3:V(t("buySuccess"),{variant:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),V(t("buyFailed",{reason:t(e.t0.message)}),{variant:"error"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=(0,u.useRef)(),we=(0,u.useRef)(),ke=(0,u.useRef)();(0,u.useEffect)((function(){if(ae){(0,x.isFunction)(be.current)&&be.current();be.current=null===fe||void 0===fe?void 0:fe.watch((0,x.get)(p,"symbol"),(e=ke.current,t=we.current,function(n){t.innerHTML=(0,E.currencyFormatorWithDecimal)(n.quote.bid,"",(0,x.get)(p,"decimal"),!0),e.innerHTML=(0,E.currencyFormatorWithDecimal)(n.quote.ask,"",(0,x.get)(p,"decimal"),!0)}))}var e,t;return function(){null===fe||void 0===fe||fe.unwatch((0,x.get)(p,"symbol")),(0,x.isFunction)(be.current)&&be.current()}}),[ae]);var Ce=[{label:t("bid"),value:"-/-",ref:we},{label:t("ask"),value:"-/-",ref:ke}],Ie=0==K.length||le<=0||!ae;return(0,w.jsx)(c.Z,{sx:{px:2},children:(0,w.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,w.jsxs)(c.Z,{spacing:1,sx:{flex:1},children:[(0,w.jsxs)(c.Z,{direction:"row",spacing:2,px:2,children:[(0,w.jsx)(z.Z,{item:p}),_e&&(0,w.jsxs)(l.Z,{children:[t("account")," ","FX ".concat(_e.login)]})]}),(0,w.jsx)(Z.Z,{sx:{borderWidth:1,backgroundColor:"rgb(40,40,61)",borderColor:"rgb(40,40,61)",borderStyle:"solid",width:"100%",borderRadius:"5px",overflow:"hidden"},children:(0,w.jsxs)(Z.Z,{sx:{position:"relative"},children:[ve,(0,w.jsxs)(c.Z,{direction:"row",alignItems:"center",sx:{position:"absolute",right:8,top:1},spacing:2,children:[Ce.map((function(e,t){return(0,w.jsxs)(Z.Z,{children:[(0,w.jsx)(l.Z,{fontSize:"10px",sx:{color:"#B4B4C8",mb:-.5},children:e.label}),(0,w.jsx)(l.Z,{fontSize:"18px",minWidth:"50px",fontWeight:"600",ref:e.ref,children:e.value})]},t)})),(0,w.jsx)(L.Z,{loadingIndicator:ie?t("verifying"):null,loading:re||ie,variant:"contained",color:"error",size:"small",disabled:Ie,onClick:ye,sx:{flex:1,width:130,color:"#000"},children:t("buyByMarket")}),(0,w.jsx)(L.Z,{loadingIndicator:ie?t("verifying"):null,loading:re||ie,variant:"contained",color:"primary",size:"small",disabled:Ie,onClick:ge,sx:{flex:1,width:130,color:"#000"},children:t("sellByMarket")})]})]})})]}),(0,w.jsx)(c.Z,{sx:{width:400},children:(0,w.jsx)(O.ErrorBoundary,{FallbackComponent:D,onReset:function(){v(),pe()},children:(0,w.jsx)(A.L,{})})})]})})}},36326:function(e,t,n){"use strict";var r=n(48466),o=n(84280),i=n(7161),a=n(31530),s=n(6020),c=n(3199),l=n(90105),u=n(83302),d=n(98642),h=n(48352),_=n(98267),p=n(15304),f=n(98845),v=["className","color","edge","size","sx"],m=(0,_.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat((0,u.Z)(n.edge))],t["size".concat((0,u.Z)(n.size))]]}})((function(e){var t,n=e.ownerState;return(0,i.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(t={width:40,height:24,padding:7},(0,r.Z)(t,"& .".concat(p.Z.thumb),{width:16,height:16}),(0,r.Z)(t,"& .".concat(p.Z.switchBase),(0,r.Z)({padding:4},"&.".concat(p.Z.checked),{transform:"translateX(16px)"})),t))})),g=(0,_.ZP)(d.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,(0,r.Z)({},"& .".concat(p.Z.input),t.input),"default"!==n.color&&t["color".concat((0,u.Z)(n.color))]]}})((function(e){var t,n=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:"".concat("light"===n.palette.mode?n.palette.common.white:n.palette.grey[300]),transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},(0,r.Z)(t,"&.".concat(p.Z.checked),{transform:"translateX(20px)"}),(0,r.Z)(t,"&.".concat(p.Z.disabled),{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:"".concat("light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600])}),(0,r.Z)(t,"&.".concat(p.Z.checked," + .").concat(p.Z.track),{opacity:.5}),(0,r.Z)(t,"&.".concat(p.Z.disabled," + .").concat(p.Z.track),{opacity:n.vars?n.vars.opacity.switchTrackDisabled:"".concat("light"===n.palette.mode?.12:.2)}),(0,r.Z)(t,"& .".concat(p.Z.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,o=e.ownerState;return(0,i.Z)({"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.activeChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&(t={},(0,r.Z)(t,"&.".concat(p.Z.checked),(0,r.Z)({color:(n.vars||n).palette[o.color].main,"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[o.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(n.palette[o.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(p.Z.disabled),{color:n.vars?n.vars.palette.Switch["".concat(o.color,"DisabledColor")]:"".concat("light"===n.palette.mode?(0,l.$n)(n.palette[o.color].main,.62):(0,l._j)(n.palette[o.color].main,.55))})),(0,r.Z)(t,"&.".concat(p.Z.checked," + .").concat(p.Z.track),{backgroundColor:(n.vars||n).palette[o.color].main}),t))})),y=(0,_.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),b=(0,_.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){var t=e.theme;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),w=a.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiSwitch"}),r=n.className,a=n.color,l=void 0===a?"primary":a,d=n.edge,_=void 0!==d&&d,w=n.size,k=void 0===w?"medium":w,C=n.sx,I=(0,o.Z)(n,v),S=(0,i.Z)({},n,{color:l,edge:_,size:k}),x=function(e){var t=e.classes,n=e.edge,r=e.size,o=e.color,a=e.checked,s=e.disabled,l={root:["root",n&&"edge".concat((0,u.Z)(n)),"size".concat((0,u.Z)(r))],switchBase:["switchBase","color".concat((0,u.Z)(o)),a&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=(0,c.Z)(l,p.H,t);return(0,i.Z)({},t,d)}(S),Z=(0,f.jsx)(b,{className:x.thumb,ownerState:S});return(0,f.jsxs)(m,{className:(0,s.Z)(x.root,r),sx:C,ownerState:S,children:[(0,f.jsx)(g,(0,i.Z)({type:"checkbox",icon:Z,checkedIcon:Z,ref:t,ownerState:S},I,{classes:(0,i.Z)({},x,{root:x.switchBase})})),(0,f.jsx)(y,{className:x.track,ownerState:S})]})}));t.Z=w},15304:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(29298),o=n(77956);function i(e){return(0,o.Z)("MuiSwitch",e)}var a=(0,r.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);t.Z=a},92309:function(e,t,n){!function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}var a=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))},s={error:null},c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=s,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}i(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(s)},n.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},n.componentDidUpdate=function(e,t){var n,r,o=this.state.error,i=this.props.resetKeys;null!==o&&null!==t.error&&a(e.resetKeys,i)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,i),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,o=t.FallbackComponent,i=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"===typeof n)return n(a);if(o)return r.createElement(o,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);function l(e,t){var n=function(n){return r.createElement(c,t,r.createElement(e,n))},o=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+o+")",n}function u(e){var t=r.useState(null),n=t[0],o=t[1];if(null!=e)throw e;if(null!=n)throw n;return o}e.ErrorBoundary=c,e.useErrorHandler=u,e.withErrorBoundary=l,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(31530))}}]);