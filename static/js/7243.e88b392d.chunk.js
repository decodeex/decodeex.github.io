"use strict";(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[7243],{64965:function(e,n,a){a(31530);var r=a(47006),t=a(27203),i=a(98845);n.Z=function(e){var n=e.loading;return(0,i.jsx)(r.Z,{sx:{zIndex:"9999999"},open:n,children:(0,i.jsx)(t.Z,{})})}},10083:function(e,n,a){a.d(n,{Z:function(){return v}});var r=a(2211),t=a(76956),i=(a(31530),a(83023)),l=a(42812),s=a(39667),o=a(98438),c=a(99317),d=a(26521),u=a(6892),x=a(97288),m=a(88658),f=a(98267),b=a(98845),y=(0,f.ZP)("div")((function(){return{borderRadius:"8px"}})),h=((0,f.ZP)("div")((function(){return{height:"100%",width:"100%"}})),(0,f.ZP)("div")((function(){return{display:"flex",flexDirection:"column",height:"100%",overflow:"scroll"}})),["showCard","cardTitle","columns","rows","toolBar","density","actionComponent","headerClassName","cellClassName","hidePagination","totalPage","page","onChangePage","autoHeight","sx"]),p=[{systemValue:"en",language:i._},{systemValue:"cn",language:l.U},{systemValue:"cnTw",language:l.U}];function v(e){var n=(0,m.Z)().currentLang,a=e.showCard,i=void 0!==a&&a,l=e.cardTitle,f=e.columns,v=void 0===f?[]:f,g=e.rows,Z=void 0===g?[]:g,j=e.toolBar,C=e.density,N=void 0===C?"compact":C,k=e.actionComponent,w=e.headerClassName,I=e.cellClassName,S=e.hidePagination,A=void 0===S||S,P=e.totalPage,B=void 0===P?1:P,q=e.page,O=void 0===q?1:q,X=e.onChangePage,R=void 0===X?function(){}:X,T=e.autoHeight,Y=void 0!==T&&T,_=e.sx,D=(0,t.Z)(e,h),G=p.find((function(e){return e.systemValue===n.value})),M=(0,r.Z)({rows:Z,columns:w||I?v.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{headerClassName:w,cellClassName:I})})):v,density:N,components:j||k?{Toolbar:function(){return(0,b.jsxs)(c.Z,{direction:"row",alignItems:"center",sx:{backgroundColor:"#F4F6F8"},children:[j?(0,b.jsx)(s.n,{}):(0,b.jsx)("span",{}),k&&(0,b.jsx)(d.Z,{sx:{p:16,flexGrow:1},children:k()})]})}}:null},D);return G.language&&(M.localeText=G.language.components.MuiDataGrid.defaultProps.localeText),i?(0,b.jsxs)(d.Z,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)(y,{sx:{flexGrow:1,borderRadius:0,flex:1},children:[l&&(0,b.jsx)(u.Z,{title:l,sx:{mb:3}}),(0,b.jsx)(o._,(0,r.Z)((0,r.Z)({disableColumnFilter:!0,disableColumnSelector:!0,disableColumnMenu:!0,sortingMode:"server",ColumnSortedAscendingIcon:null,sx:(0,r.Z)({"& .MuiDataGrid-sortIcon":{display:"none"}},_)},M),{},{autoHeight:Y}))]}),!A&&(0,b.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",py:2},children:(0,b.jsx)(x.Z,{count:B,shape:"rounded",page:O,onChange:function(e,n){R(n),window.scrollTo({top:0,behavior:"smooth"})}})})]}):(0,b.jsxs)(d.Z,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)(y,{sx:{flexGrow:1,borderRadius:0,flex:1},children:(0,b.jsx)(o._,(0,r.Z)((0,r.Z)({disableColumnFilter:!0,disableColumnSelector:!0,disableColumnMenu:!0,sortingMode:"server",ColumnSortedAscendingIcon:null,sx:(0,r.Z)({"& .MuiDataGrid-sortIcon":{display:"none"}},_)},M),{},{autoHeight:Y}))}),!A&&(0,b.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",py:2,backgroundColor:"rgb(32,32,51)"},children:(0,b.jsx)(x.Z,{count:B,shape:"rounded",page:O,onChange:function(e,n){R(n),window.scrollTo({top:0,behavior:"smooth"})}})})]})}},67243:function(e,n,a){a.r(n),a.d(n,{default:function(){return g}});var r=a(2211),t=a(92680),i=a(24190),l=a(12130),s=a(31530),o=a(26521),c=a(24786),d=a(29367),u=a(15592),x=(a(11001),a(18858)),m=(a(10083),a(46899)),f=a(64965),b=a(88658),y=a(62428),h=(a(96390),a(80215),a(64505)),p=(a(58947),a(64234)),v=a(98845);function g(e){e.setStep;var n=(0,p.useSearchParams)(),a=(0,l.Z)(n,1)[0].get("id"),g=(0,b.Z)().t,Z=(0,s.useState)({isSelfAccount:!1}),j=(0,l.Z)(Z,2),C=j[0],N=j[1],k=(0,s.useState)({amount:""}),w=(0,l.Z)(k,2),I=(w[0],w[1],(0,u.s0)()),S=(0,s.useState)({}),A=(0,l.Z)(S,2),P=A[0],B=A[1],q=(0,s.useState)({}),O=(0,l.Z)(q,2),X=(O[0],O[1],(0,s.useState)(null)),R=(0,l.Z)(X,2),T=(R[0],R[1],(0,s.useState)(!1)),Y=(0,l.Z)(T,2),_=Y[0],D=Y[1],G=(0,s.useState)(null),M=(0,l.Z)(G,2),F=M[0],z=M[1],L=(0,y.nXt)().data,U=(0,y.vLk)().data,V=(0,y.c08)(),E=V.data,H=V.isLoading,W=V.create,J=V.update,K=(V.mutate,(0,y._i7)().data,(0,y.a9L)(null===C||void 0===C?void 0:C.currency).data),Q=d.object().shape({accountNumberOrIban:d.string().required(),region:d.string().required(),currency:d.string().required(),city:d.string().required(),address1:d.string().required(),displayName:d.string().required(),name:d.string().required(),accountName:d.string().required()}),$=(g("date/time"),g("type"),g("amount"),g("status"),function(){var e=(0,i.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),e.prev=1,!a){e.next=7;break}return e.next=5,J(a,n);case 5:e.next=9;break;case 7:return e.next=9,W(n);case 9:N({}),I("/crm/fiat"),D(!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:D(!1);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}()),ee=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q.validate(C).then((function(e){B({}),$(C)})).catch((function(e){B({}),B((function(n){return n[e.path]=g("IsRequired",{field:g(e.path)}),(0,r.Z)({},n)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e=null===E||void 0===E?void 0:E.find((function(e){return Number(e.id)===Number(a)}));z(e),N((0,r.Z)((0,r.Z)({},e),{},{isSelfAccount:!1})||{})}),[H]),(0,s.useEffect)((function(){N((function(e){return null!==F&&e.currency!==(null===F||void 0===F?void 0:F.currency)&&(e.name="",e.displayName="",e.accountName="",e.address1="",e.address2="",e.city="",e.state="",e.branchOrABARoutingCode="",e.accountName=""),(0,r.Z)({},e)}))}),[null===C||void 0===C?void 0:C.currency]),(0,s.useEffect)((function(){console.log(C)}),[C]);d.object().shape({forexAccountBalance:d.string().required(),amount:d.string().required()});return(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(x.dz,{values:C,setValues:N,errors:P,children:(0,v.jsxs)(o.Z,{sx:{width:600,mx:"auto",my:4},children:[(0,v.jsx)(c.Z,{children:g("createWithdrawalRules")}),(0,v.jsx)(x.Nz,{field:"currency",options:U.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{label:(0,v.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,v.jsx)(m.Z,{type:"country",code:e.entity})," ",(0,v.jsx)(o.Z,{sx:{ml:1},children:e.label})]})})})),placeholder:g("currency")+"*",sx:{my:2,width:"100%"},size:"middle",labelColor:"background.default"}),["AUD","GBP","EUR","SGD","USD"].includes(null===C||void 0===C?void 0:C.currency)||void 0===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.o7,{field:"name",label:g("bankName")+"*",sx:{my:2}}):(0,v.jsx)(x.N2,{options:K.map((function(e){return{value:e[":bank"].name,label:e[":bank"].name}})),field:"name",label:g("bankName"),sx:{my:1}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"displayName",label:g("displayName")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"displayName",label:g("displayName")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"accountName",label:g("accountName")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"accountName",label:g("accountName")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"address1",label:g("bankAdderss1")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"address1",label:g("bankAdderss1")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"address2",label:g("bankAdderss2"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"address2",label:g("bankAdderss2"),sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"city",label:g("bankCity")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"city",label:g("bankCity")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"state",label:g("bankProvince"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"state",label:g("bankProvince"),sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"postcode",label:g("bankZipCode"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"postcode",label:g("bankZipCode"),sx:{my:2}}),(0,v.jsx)(x.N2,{field:"region",options:L,label:g("bankCountry")+"*",sx:{my:1,width:"100%"},getOptionLabel:function(e){return""===e?"":e.label?g("".concat(e.label)):g("countrys.".concat(e))},size:"middle"}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"accountNumberOrIban",label:g("accountNumberOrIban")+"*",sx:{my:2}}):(0,v.jsx)(x.o7,{field:"accountNumberOrIban",label:g("accountNumberOrIban")+"*",sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"swiftCodeOrBic",label:g("BIC/SWIFT"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"swiftCodeOrBic",label:g("BIC/SWIFT"),sx:{my:2}}),"CNY"===(null===C||void 0===C?void 0:C.currency)?(0,v.jsx)(x.XI,{field:"branchOrABARoutingCode",label:g("bankBranch"),sx:{my:2}}):(0,v.jsx)(x.o7,{field:"branchOrABARoutingCode",label:g("bankBranch"),sx:{my:2}}),(0,v.jsx)(x.RM,{field:"isSelfAccount",label:g("isSelfAccount"),sx:{my:2}})]})}),(0,v.jsx)(f.Z,{loading:_}),(0,v.jsx)(o.Z,{sx:{textAlign:"center"},children:(0,v.jsx)(h.C5,{onClick:ee,children:g("submit")})})]})}}}]);