"use strict";(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[7931,1591,4341,1160],{37829:function(e,n,t){t(66509);var a=t(92761),i=t(91576),r=t(55294);n.Z=function(e){var n=e.loading;return(0,r.jsx)(a.Z,{sx:{zIndex:"9999999"},open:n,children:(0,r.jsx)(i.Z,{})})}},89941:function(e,n,t){t.d(n,{Z:function(){return v}});var a=t(75782),i=t(68901),r=(t(66509),t(1103)),s=t(29376),l=t(29332),o=t(88285),d=t(35831),u=t(37306),c=t(82240),x=t(6267),f=t(91636),m=t(50704),b=t(55294),y=(0,m.ZP)("div")((function(){return{borderRadius:"8px"}})),h=((0,m.ZP)("div")((function(){return{height:"100%",width:"100%"}})),(0,m.ZP)("div")((function(){return{display:"flex",flexDirection:"column",height:"100%",overflow:"scroll"}})),["showCard","cardTitle","columns","rows","toolBar","density","actionComponent","headerClassName","cellClassName","hidePagination","totalPage","page","onChangePage","autoHeight","sx"]),p=[{systemValue:"en",language:r._},{systemValue:"cn",language:s.U},{systemValue:"cnTw",language:s.U}];function v(e){var n=(0,f.Z)().currentLang,t=e.showCard,r=void 0!==t&&t,s=e.cardTitle,m=e.columns,v=void 0===m?[]:m,g=e.rows,j=void 0===g?[]:g,Z=e.toolBar,C=e.density,N=void 0===C?"compact":C,I=e.actionComponent,k=e.headerClassName,w=e.cellClassName,S=e.hidePagination,q=void 0===S||S,A=e.totalPage,R=void 0===A?1:A,P=e.page,B=void 0===P?1:P,O=e.onChangePage,T=void 0===O?function(){}:O,X=e.autoHeight,Y=void 0!==X&&X,M=e.sx,_=(0,i.Z)(e,h),D=p.find((function(e){return e.systemValue===n.value})),G=(0,a.Z)({rows:j,columns:k||w?v.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{headerClassName:k,cellClassName:w})})):v,density:N,components:Z||I?{Toolbar:function(){return(0,b.jsxs)(d.Z,{direction:"row",alignItems:"center",sx:{backgroundColor:"#F4F6F8"},children:[Z?(0,b.jsx)(l.n,{}):(0,b.jsx)("span",{}),I&&(0,b.jsx)(u.Z,{sx:{p:16,flexGrow:1},children:I()})]})}}:null},_);return D.language&&(G.localeText=D.language.components.MuiDataGrid.defaultProps.localeText),r?(0,b.jsxs)(u.Z,{sx:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,b.jsxs)(y,{sx:{flexGrow:1,borderRadius:0,flex:1},children:[s&&(0,b.jsx)(c.Z,{title:s,sx:{mb:3}}),(0,b.jsx)(o._,(0,a.Z)((0,a.Z)({disableColumnFilter:!0,disableColumnSelector:!0,disableColumnMenu:!0,sortingMode:"server",ColumnSortedAscendingIcon:null,sx:(0,a.Z)({"& .MuiDataGrid-sortIcon":{display:"none"}},M)},G),{},{autoHeight:Y}))]}),!q&&(0,b.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center",py:2},children:(0,b.jsx)(x.Z,{count:R,shape:"rounded",page:B,onChange:function(e,n){T(n),window.scrollTo({top:0,behavior:"smooth"})}})})]}):(0,b.jsxs)(u.Z,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,b.jsx)(y,{sx:{flexGrow:1,borderRadius:0,flex:1},children:(0,b.jsx)(o._,(0,a.Z)((0,a.Z)({disableColumnFilter:!0,disableColumnSelector:!0,disableColumnMenu:!0,sortingMode:"server",ColumnSortedAscendingIcon:null,sx:(0,a.Z)({"& .MuiDataGrid-sortIcon":{display:"none"}},M)},G),{},{autoHeight:Y}))}),!q&&(0,b.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center",py:2,backgroundColor:"rgb(32,32,51)"},children:(0,b.jsx)(x.Z,{count:R,shape:"rounded",page:B,onChange:function(e,n){T(n),window.scrollTo({top:0,behavior:"smooth"})}})})]})}},71160:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var a=t(99932),i=t(78450),r=t(75782),s=t(52398),l=t(66509),o=t(37306),d=t(99507),u=t(66175),c=t(41623),x=(t(20137),t(1127)),f=(t(89941),t(52314)),m=t(37829),b=t(91636),y=t(74),h=(t(98160),t(52692),t(17841)),p=(t(61439),t(42211)),v=t(57227),g=t(55294),j=function(e){return!e||(0,v.default)(e,"any",{strictMode:!0})};function Z(e){e.setStep;var n=(0,p.useSearchParams)(),t=(0,s.Z)(n,1)[0].get("id"),v=(0,b.Z)().t,Z=(0,l.useState)({isSelfAccount:!1}),C=(0,s.Z)(Z,2),N=C[0],I=C[1],k=(0,l.useState)({amount:""}),w=(0,s.Z)(k,2),S=(w[0],w[1],(0,c.s0)()),q=(0,l.useState)({}),A=(0,s.Z)(q,2),R=A[0],P=A[1],B=(0,l.useState)({}),O=(0,s.Z)(B,2),T=(O[0],O[1],(0,l.useState)(null)),X=(0,s.Z)(T,2),Y=(X[0],X[1],(0,l.useState)(!1)),M=(0,s.Z)(Y,2),_=M[0],D=M[1],G=(0,l.useState)(null),F=(0,s.Z)(G,2),L=F[0],z=F[1],U=(0,y.nXt)().data,V=(0,y.vLk)().data,E=(0,y.c08)(),H=E.data,W=E.isLoading,J=E.create,K=E.update,Q=(E.mutate,(0,y._i7)().data,(0,y.a9L)(null===N||void 0===N?void 0:N.currency).data),$=u.object().shape((0,r.Z)({accountNumberOrIban:u.string().required(v("IsRequired",{field:v("accountNumberOrIban")})),region:u.string().required(v("IsRequired",{field:v("region")})),currency:u.string().required(v("IsRequired",{field:v("currency")})),city:u.string().required(v("IsRequired",{field:v("city")})),address1:u.string().required(v("IsRequired",{field:v("address")})),displayName:u.string().required(v("IsRequired",{field:v("displayName")})),name:u.string().required(v("IsRequired",{field:v("name")})),accountName:u.string().required(v("IsRequired",{field:v("accountName")}))},"CNY"===(null===N||void 0===N?void 0:N.currency)?{phone:u.string().test("mobile text",v("mobileNumberfailText"),j).required(v("IsRequired",{field:v("bankLinkMobile")}))}:{phone:u.string()})),ee=(v("date/time"),v("type"),v("amount"),v("status"),function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!0),e.prev=1,!t){e.next=7;break}return e.next=5,K(t,n);case 5:e.next=9;break;case 7:return e.next=9,J(n);case 9:I({}),S("/crm/fiat"),D(!1),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:D(!1);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(n){return e.apply(this,arguments)}}()),ne=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$.validate(N).then((function(e){P({}),ee(N)})).catch((function(e){P({}),P((function(n){return n[e.path]=e.message,(0,r.Z)({},n)}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e=null===H||void 0===H?void 0:H.find((function(e){return Number(e.id)===Number(t)}));z(e),I((0,r.Z)((0,r.Z)({},e),{},{isSelfAccount:!1})||{})}),[W]),(0,l.useEffect)((function(){I((function(e){return null!==L&&e.currency!==(null===L||void 0===L?void 0:L.currency)&&(e.name="",e.displayName="",e.accountName="",e.address1="",e.address2="",e.city="",e.state="",e.branchOrABARoutingCode="",e.accountName="",e.phone=""),(0,r.Z)({},e)}))}),[null===N||void 0===N?void 0:N.currency]),(0,l.useEffect)((function(){console.log(N)}),[N]);u.object().shape({forexAccountBalance:u.string().required(),amount:u.string().required()});return(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(x.dz,{values:N,setValues:I,errors:R,children:(0,g.jsxs)(o.Z,{sx:{width:600,mx:"auto",my:4},children:[(0,g.jsx)(d.Z,{children:v("createWithdrawalRules")}),(0,g.jsx)(x.Nz,{field:"currency",options:V.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{label:(0,g.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,g.jsx)(f.Z,{type:"country",code:e.entity})," ",(0,g.jsx)(o.Z,{sx:{ml:1},children:e.label})]})})})),placeholder:v("currency")+"*",sx:{my:2,width:"100%"},size:"middle",labelColor:"background.default"}),["AUD","GBP","EUR","SGD","USD"].includes(null===N||void 0===N?void 0:N.currency)||void 0===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.o7,{field:"name",label:v("bankName")+"*",sx:{my:2}}):(0,g.jsx)(x.N2,{options:Q.map((function(e){return{value:e[":bank"].name,label:e[":bank"].name}})),field:"name",label:v("bankName"),sx:{my:1}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"displayName",label:v("displayName")+"*",sx:{my:2}}):(0,g.jsx)(x.o7,{field:"displayName",label:v("displayName")+"*",sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"accountName",label:v("accountName")+"*",sx:{my:2}}):(0,g.jsx)(x.o7,{field:"accountName",label:v("accountName")+"*",sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)&&(0,g.jsx)(x.XI,{field:"phone",label:v("bankLinkMobile"),sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"address1",label:v("bankAdderss1")+"*",sx:{my:2}}):(0,g.jsx)(x.o7,{field:"address1",label:v("bankAdderss1")+"*",sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"address2",label:v("bankAdderss2"),sx:{my:2}}):(0,g.jsx)(x.o7,{field:"address2",label:v("bankAdderss2"),sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"city",label:v("bankCity")+"*",sx:{my:2}}):(0,g.jsx)(x.o7,{field:"city",label:v("bankCity")+"*",sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"state",label:v("bankProvince"),sx:{my:2}}):(0,g.jsx)(x.o7,{field:"state",label:v("bankProvince"),sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"postcode",label:v("bankZipCode"),sx:{my:2}}):(0,g.jsx)(x.o7,{field:"postcode",label:v("bankZipCode"),sx:{my:2}}),(0,g.jsx)(x.N2,{field:"region",options:U,label:v("bankCountry")+"*",sx:{my:1,width:"100%"},getOptionLabel:function(e){return""===e?"":e.label?v("".concat(e.label)):v("countrys.".concat(e))},size:"middle"}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"accountNumberOrIban",label:v("accountNumberOrIban")+"*",sx:{my:2}}):(0,g.jsx)(x.o7,{field:"accountNumberOrIban",label:v("accountNumberOrIban")+"*",sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"swiftCodeOrBic",label:v("BIC/SWIFT"),sx:{my:2}}):(0,g.jsx)(x.o7,{field:"swiftCodeOrBic",label:v("BIC/SWIFT"),sx:{my:2}}),"CNY"===(null===N||void 0===N?void 0:N.currency)?(0,g.jsx)(x.XI,{field:"branchOrABARoutingCode",label:v("bankBranch"),sx:{my:2}}):(0,g.jsx)(x.o7,{field:"branchOrABARoutingCode",label:v("bankBranch"),sx:{my:2}}),(0,g.jsx)(x.RM,{field:"isSelfAccount",label:v("isSelfAccount"),sx:{my:2}})]})}),(0,g.jsx)(m.Z,{loading:_}),(0,g.jsx)(o.Z,{sx:{textAlign:"center"},children:(0,g.jsx)(h.C5,{onClick:ne,children:v("submit")})})]})}},91591:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var a=t(37306),i=t(89941),r=t(74),s=t(91636),l=(t(17841),t(55294));function o(e){var n=e.setStep,t=(0,s.Z)().t,o=(0,r.qOT)().data,d=[{headerName:t("date/time"),field:"date",flex:1},{headerName:t("type"),field:"type",flex:1},{headerName:t("amount"),field:"amount",flex:1},{headerName:t("status"),field:"status",flex:1}];return(0,l.jsxs)(a.Z,{sx:{height:600,width:700,mx:"auto"},children:[(0,l.jsx)(a.Z,{sx:{height:"90%",mt:2},children:(0,l.jsx)(i.Z,{columns:d,rows:o,showCard:!0})}),(0,l.jsx)(a.Z,{onClick:function(){n(0)},sx:{textAlign:"center",mt:2}})]})}},94341:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});t(66509),t(66175),t(20137),t(1127),t(89941),t(52314),t(91636),t(74),t(98160),t(52692),t(17841),t(61439);function a(e){e.setStep}},47931:function(e,n,t){t.r(n);var a=t(52398),i=t(66509),r=(t(1127),t(61439),t(37306)),s=t(71160),l=t(84461),o=t(91591),d=t(94341),u=t(55294),c=function(e){return[(0,u.jsx)(l.default,{setStep:e}),(0,u.jsx)(o.default,{setStep:e}),(0,u.jsx)(d.default,{setStep:e}),(0,u.jsx)(s.default,{setStep:e})]};n.default=(0,i.memo)((function(){var e=(0,i.useState)(0),n=(0,a.Z)(e,2),t=n[0],s=n[1];return(0,u.jsx)(r.Z,{sx:{width:700,mx:"auto"},children:c(s)[t]})}))}}]);