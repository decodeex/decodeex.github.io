"use strict";(self.webpackChunk_decode_crm_client=self.webpackChunk_decode_crm_client||[]).push([[8219],{98219:function(e,n,r){r.r(n),r.d(n,{default:function(){return B}});var t=r(16487),i=r(12130),o=r(77317),c=r(38263),a=r(40165),l=r(55685),s=r(12833),d=r(43749),u=r(39617),x=r(97243),f=r(12762),g=r(65967),p=r(50003),m=r(84096),h=r(2211),Z=(r(98744),r(2383)),j=r(45771),b=r(63158),v=(r(74866),r(2018),r(67075),r(74384)),y=r(55040),k=r(94870),C=r(58955),S=r(36287),F=r(89728),I=r(78269),w=r(7154),D=r(69147),P=r(72745),R=r(28792),L=r(6803),z=r(62484),A=r(22061),H=r(35778),W=r(40860),E=(0,o.memo)((function(e){var n=e.item,r=e.onClick,d=e.index,u=e.editing,x=void 0!==u&&u,f=e.onRemove,p=e.displayFavor,m=((0,l.Z)().t,(0,a.get)(n,"symbol")),b=(0,s.d2j)({symbol:m}),R=(0,v.F)({disableSyncService:!0}).getStockColorValue,z=R((0,a.get)(n,"priceChange")),A=(0,D.useFavorite)(),H=A.favoritesId,E=A.setFavoritesId,M=(0,o.useState)(z),_=(0,i.Z)(M,2),B=_[0],T=_[1],q=(0,a.first)(b),K=(0,o.useRef)(),O=(0,o.useRef)(),J=(0,o.useRef)(),N=(0,o.useRef)(),V=(0,o.useRef)(),$=(0,o.useRef)(),G=(0,s.W0d)(),Q=G.data,U=G.hasValidSignal&&(0,a.has)((0,a.get)(Q,"signalsKey"),n.symbol);(0,o.useEffect)((function(){return L.useMarketPriceStore.subscribe((function(e){if(Boolean((0,a.get)(e.prices,"".concat(m)))){var r=(0,Z.currencyFormatorWithDecimal)((0,a.get)(e.prices,"".concat(m,".low")),"",n.decimal,!0),t=(0,Z.currencyFormatorWithDecimal)((0,a.get)(e.prices,"".concat(m,".high")),"",n.decimal,!0),i=(0,Z.currencyFormatorWithDecimal)((0,a.get)(e.prices,"".concat(m,".bid")),"",n.decimal,!0),o=(0,a.get)(e.prices,"".concat(m,".ask"))-q,c=(0,Z.currencyFormatorWithDecimal)(o,"",n.decimal,!0),l=(0,Z.percentageFormator)(o/q);K.current.innerHTML=r,O.current.innerHTML=t,J.current.innerHTML=i,N.current.innerHTML=c,V.current.innerHTML=l;var s=R(o);N.current.style.color=s,V.current.style.color=s,$.current.style.backgroundColor=s,s!==B&&T(s)}}))}),[n.decimal,q]);var X=[{component:function(e){return(0,W.jsx)(c.Z,{children:(0,W.jsx)(P.Z,{item:n,displaySignalDot:U})})},flex:1},{component:function(e){return(0,W.jsx)(g.Z,{children:(0,W.jsx)(j.Z,{textAlign:"center",sx:{fontSize:"14px"},children:(0,Z.currencyFormatorWithDecimal)((0,a.first)(b),"",n.decimal,!0)})})},flex:1},{component:function(e){return(0,W.jsx)(c.Z,{alignItems:"center",justifyContent:"center",ref:$,sx:{backgroundColor:z,height:"24px",px:1,borderRadius:"4px"},children:(0,W.jsx)(F.Z,{symbol:(0,a.get)(n,"symbol"),tokenBuy:(0,a.get)(n,"tokenBuy"),decimal:(0,a.get)(n,"decimal"),initPrice:(0,a.get)(n,"price")})})},flex:1},{component:function(e){return(0,W.jsx)(c.Z,{direction:"row",justifyContent:"center",children:(0,W.jsx)(y.Z,{datas:b,color:B,height:40,width:120,backgroundColor:"#1E1E34"})})},flex:1},{component:function(e){return(0,W.jsx)(g.Z,{children:(0,W.jsx)(j.Z,{ref:J,textAlign:"center",sx:{fontSize:"14px"},children:"-/-"})})},flex:1},{component:function(e){return(0,W.jsx)(g.Z,{children:(0,W.jsx)(j.Z,{ref:K,textAlign:"center",sx:{fontSize:"14px"},children:"-/-"})})},flex:1},{component:function(e){return(0,W.jsx)(g.Z,{children:(0,W.jsx)(j.Z,{ref:O,textAlign:"center",sx:{fontSize:"14px"},children:"-/-"})})},flex:1},{component:function(e){return(0,W.jsx)(g.Z,{children:(0,W.jsx)(j.Z,{ref:N,textAlign:"center",sx:{color:z,fontSize:"14px"},children:"-/-"})})},flex:1},{component:function(e){return(0,W.jsx)(g.Z,{children:(0,W.jsx)(j.Z,{ref:V,textAlign:"center",sx:{color:z,fontSize:"14px"},children:"-/-"})})},flex:1}];return(0,W.jsx)(k._l,{draggableId:"".concat(n.id),index:d,isDragDisabled:!1===x,children:function(e,i){return(0,W.jsx)(g.Z,(0,h.Z)((0,h.Z)({},e.draggableProps),{},{ref:e.innerRef,children:(0,W.jsxs)(c.Z,{onClick:function(){return r(n)},direction:"row",alignItems:"center",spacing:.5,sx:{px:2,py:.5,backgroundColor:"rgb(30,30,52)",boxShadow:i.isDragging?"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(255,197,0,0.5) 0px 0px 0px 1px;":null},children:[(0,W.jsx)(g.Z,(0,h.Z)((0,h.Z)({sx:{mr:1}},e.dragHandleProps),{},{children:(0,W.jsx)(C.Z,{sx:{opacity:x?1:0}})})),(0,W.jsx)(c.Z,{direction:"row",alignItems:"center",spacing:.5,flex:1,sx:{cursor:"pointer"},children:X.map((function(e,r){return(0,W.jsx)(g.Z,{sx:{flex:e.flex||1},children:e.component(n)},r)}))}),x?(0,W.jsx)(S.Z,{onClick:function(){return f(n)},sx:{ml:1,color:"rgb(255,197,0)",cursor:"pointer"}}):p?H.includes(n.id)?(0,W.jsx)(w.Z,{sx:{color:"rgb(255,197,0)"},onClick:function(e){e.stopPropagation(),E(H.filter((function(e){return e!==n.id})))}}):(0,W.jsx)(I.Z,{onClick:function(e){e.stopPropagation(),E([].concat((0,t.Z)(H),[n.id]))}}):(0,W.jsx)(S.Z,{sx:{opacity:0,ml:1}})]})}))}})})),M=function(e){var n=e.data,r=void 0===n?[]:n,t=e.setData,i=e.enableEdit,o=void 0!==i&&i,a=e.isLoading,s=void 0!==a&&a,d=(e.totalPage,e.page,e.onChangePage,e.hidePagination,e.displayFavor);(0,H.ek)();var u=(0,l.Z)().t,x=((0,R.H)((function(e){return e.openProductDetail})),(0,z.Z)()),f=[{label:u("symbol"),flex:1},{label:u("closePrice"),flex:1},{label:u("ask"),flex:1},{label:u("trends"),flex:1},{label:u("bid"),flex:1},{label:u("low"),flex:1},{label:u("high"),flex:1},{label:u("24Hchanges"),flex:1},{label:u("24H%change"),flex:1}],g=function(e){x(A.cR.menu.productDetail,{id:e.id})},p=function(e){t(r.filter((function(n){return n.id!==e.id})))},m=function(e){};return(0,W.jsxs)(c.Z,{sx:{flex:1,borderRadius:2,backgroundColor:"rgb(30,30,52)",overflow:"hidden"},children:[(0,W.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{backgroundColor:"rgb(40,40,61)",px:2,py:1},children:[(0,W.jsx)(C.Z,{sx:{opacity:0,mr:1}}),f.map((function(e,n){return(0,W.jsx)(j.Z,{sx:{flex:e.flex||1,fontWeight:"bold",fontSize:"14px"},textAlign:"center",children:e.label},n)})),(0,W.jsx)(C.Z,{sx:{opacity:0,ml:1}})]}),s?(0,W.jsx)(c.Z,{px:2,py:2,alignItems:"center",justifyContent:"center",children:(0,W.jsx)(b.Z,{size:30})}):(0,W.jsx)(W.Fragment,{children:((null===r||void 0===r?void 0:r.length)||0)>0?(0,W.jsx)(k.Z5,{onDragEnd:function(e){var n=e.destination,i=e.source;e.draggableId;if(n&&(n.droppableId!==i.droppableId||n.index!==i.index)){var o=r[i.index],c=JSON.parse(JSON.stringify(r));c.splice(i.index,1),c.splice(n.index,0,o),t(c)}},children:(0,W.jsx)(k.bK,{droppableId:"main",children:function(e){return(0,W.jsxs)(c.Z,(0,h.Z)((0,h.Z)({sx:{mt:1},ref:e.innerRef},e.droppableProps),{},{children:[r.map((function(e,n){return(0,W.jsx)(E,{item:e,onClick:g,index:n,editing:o,onRemove:p,onFavour:m,displayFavor:d},"".concat(e.id))})),e.placeholder]}))}})}):(0,W.jsx)(c.Z,{py:2,children:(0,W.jsx)(j.Z,{textAlign:"center",children:u("noData")})})})]})},_=r(38870),B=function(){var e=(0,o.useState)(""),n=(0,i.Z)(e,2),r=n[0],h=n[1],Z=(0,o.useState)("favourite"),j=(0,i.Z)(Z,2),b=j[0],v=j[1],y=(0,o.useState)(!1),k=(0,i.Z)(y,2),C=k[0],S=k[1],F=(0,o.useState)([]),I=(0,i.Z)(F,2),w=I[0],P=I[1],R=(0,s.Mhv)().data,L=(0,D.useFavorite)(),z=L.favoritesId,A=L.initFavourite,H=L.setFavoritesId,E=(0,l.Z)().t;(0,o.useEffect)((function(){A()}),[]);var B=[{name:E("favourite"),value:"favourite",category:null}].concat((0,t.Z)(R.map((function(e){return{name:E((0,a.toLower)(null===e||void 0===e?void 0:e.name)),value:null===e||void 0===e?void 0:e.name,category:e.id}})))),T=(0,a.find)(B,(function(e){return e.value==b})),q="favourite"===b,K=(0,s.vk$)({category:null===T||void 0===T?void 0:T.category,request:!q}),O=K.data,J=K.isLoading,N=(K.mutate,(0,s.qBF)({request:q,favoritesId:z})),V=N.data,$=N.isLoading,G=(q?V:O).filter((function(e){return e.displaySymbol.includes((0,a.upperCase)(r))})),Q=q?$:J;return(0,W.jsxs)(c.Z,{sx:{maxWidth:1300,mx:"auto"},children:[(0,W.jsxs)(c.Z,{alignItems:"center",direction:"row",spacing:6,children:[(0,W.jsx)(u.Z,{sx:{width:{md:300,sm:200,xs:100}},value:r,label:E("search"),onChange:function(e){return h(e.target.value)},InputProps:{startAdornment:(0,W.jsx)(x.Z,{position:"start",children:(0,W.jsx)(f.Z,{})})},size:"small"}),(0,W.jsx)(g.Z,{children:(0,W.jsx)(d.pn,{btns:B,onChange:function(e,n){v(e),S(!1)},btnSx:{height:39},selectedBackgroundColor:"rgb(40,40,61)"})}),C?(0,W.jsxs)(c.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,W.jsx)(d.OK,{onClick:function(){S(!1),P([])},children:E("cancel")}),(0,W.jsx)(p.Z,{variant:"contained",onClick:function(){S(!1),H(w.map((function(e){return e.id})))},children:E("save")})]}):q&&(0,W.jsxs)(p.Z,{variant:"contained",onClick:function(){S(!0),P(V)},children:[(0,W.jsx)(m.Z,{sx:{mr:1}}),E("edit")]})]}),(0,W.jsx)(c.Z,{sx:{width:"100%",mt:2},children:(0,W.jsx)(M,{data:C?w:G,setData:P,enableEdit:C,isLoading:Q,displayFavor:!q})}),(0,W.jsx)(_.Z,{})]})}}}]);